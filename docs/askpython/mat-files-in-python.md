# 如何阅读？Python 中的 mat 文件？

> 原文：<https://www.askpython.com/python/examples/mat-files-in-python>

用于数据科学和研究的大量数据集，利用**。mat** 文件。在本文中，我们将学习使用。mat 文件并详细研究它们。

## 为什么我们要用？Python 中的 mat 文件？

**的目的。mat** 文件可能看起来不太明显。但是当处理大型数据集时，这些文件中包含的信息对于数据科学/机器学习项目来说绝对是至关重要的！

这是因为**。mat** 文件包含数据集中每个对象/记录的元数据。

虽然这些文件并不完全是为了创建注释而设计的，但许多研究人员使用 *MATLAB* 进行研究和数据收集，导致我们在机器学习中使用的许多注释以**的形式出现。mat** 文件。

因此，对于数据科学家来说，了解如何使用？项目的 mat 文件。这些还有助于您更好地处理[训练和测试数据集](https://www.askpython.com/python/examples/split-data-training-and-testing-set)，而不是处理常规的 CSV 文件。

我们开始吧！

## 如何阅读？Python 中的 mat 文件？

默认情况下，Python 不能读取。mat 文件。我们需要导入一个知道如何处理文件格式的库。

### 1.安装科学软件

类似于我们如何使用 [CSV 模块](https://www.askpython.com/python-modules/python-csv-module)来工作。csv 文件，我们将导入[科学库](https://www.askpython.com/python-modules/python-scipy)来处理。Python 中的 mat 文件。

如果你还没有 scipy，你可以使用 [pip 命令](https://www.askpython.com/python-modules/python-pip)来安装

```py
pip install scipy

```

既然我们已经设置好了 scipy 并准备好使用，下一步就是打开 python 脚本，最终从文件中获取所需的数据。

### 2.导入 scipy.io.loadmat 模块

在这个例子中，我将在 [101 对象类别](https://data.caltech.edu/records/mzrjq-6wc02)中使用由加州理工学院提供的折叠注释。

```py
from scipy.io import loadmat
annots = loadmat('annotation_0001.mat')
print(annots)

```

在执行时，打印出的注释将为我们提供 *this* 作为输出。

```py
{'__header__': b'MATLAB 5.0 MAT-file, Platform: PCWIN, Created on: Tue Dec 14 15:57:03 2004', '__version__': '1.0', '__globals__': [], 'box_coord': array([[  2, 300,   1, 260]], dtype=uint16), 'obj_contour': array([[ 37.16574586,  61.94475138,  89.47697974, 126.92081031,
        169.32044199, 226.03683241, 259.07550645, 258.52486188,
        203.46040516, 177.5801105 , 147.84530387, 117.0092081 ,
          1.37384899,   1.37384899,   7.98158379,   0.82320442,
         16.2412523 ,  31.65930018,  38.81767956,  38.81767956],
       [ 58.59300184,  44.27624309,  23.90239411,   0.77532228,
          2.97790055,  61.34622468, 126.87292818, 214.97605893,
        267.83793738, 270.59116022, 298.67403315, 298.67403315,
        187.99447514,  94.93554328,  90.53038674,  77.31491713,
         62.44751381,  62.99815838,  56.94106814,  56.94106814]])}

```

一开始，你可以看到这首单曲**。mat** 文件提供了关于所用 MATLAB 的*版本、平台、创建日期以及更多信息*。

**然而，我们应该关注的是`box_coord`和`obj_contour`。**

### 3.解析。mat 文件结构

如果您浏览过加州理工学院提供的注释信息，您会知道这些数字是数据集中相应图像的轮廓。

更详细地说，这意味着图像 0001 中的物体由这些轮廓组成。在文章的后面，我们将对数字进行排序，所以，现在不要担心。

通过解析这个文件结构，我们可以将所有轮廓值分配给一个新的 [Python 列表](https://www.askpython.com/python/list/python-list)。

```py
con_list = [[element for element in upperElement] for upperElement in annots['obj_contour']]

```

如果我们打印出`con_list`，我们将得到一个简单的 2D 数组。

```py
[[37.16574585635357, 61.94475138121544, 89.47697974217309, 126.92081031307546, 169.32044198895025, 226.03683241252295, 259.0755064456721, 258.52486187845295, 203.4604051565377, 177.58011049723754, 147.84530386740326, 117.0092081031307, 1.3738489871086301, 1.3738489871086301, 7.98158379373848, 0.8232044198894926, 16.24125230202577, 31.65930018416205, 38.81767955801104, 38.81767955801104], [58.59300184162066, 44.27624309392269, 23.90239410681403, 0.7753222836096256, 2.9779005524862328, 61.34622467771641, 126.87292817679563, 214.97605893186008, 267.83793738489874, 270.59116022099454, 298.6740331491713, 298.6740331491713, 187.9944751381216, 94.93554327808477, 90.53038674033152, 77.31491712707185, 62.44751381215474, 62.998158379373876, 56.94106813996319, 56.94106813996319]]

```

### 4.使用熊猫数据框来处理数据

现在您已经有了检索到的信息和数据，您将如何使用它呢？继续使用列表吗？肯定不是。

我们使用 *[数据帧](https://www.askpython.com/python-modules/pandas/dataframes-in-python)* 作为工作的结构，因为它的功能很像数据表。外观简洁，使用极其简单。

现在，为了处理 Dataframes，我们需要导入另一个模块， ***[【熊猫】](https://www.askpython.com/python-modules/pandas/python-pandas-module-tutorial)*** 。

```py
import pandas as pd

```

Pandas 是一个开源数据分析工具，被全世界的机器学习爱好者和数据科学家使用。它提供的操作在许多数据科学应用程序中被认为是至关重要和基本的。

在本文中，我们将只使用数据框架，但是，请记住，熊猫提供的机会是巨大的。

通过使用 pandas 构建一个包含数据行和列的数据框，可以简化对上述数据的处理。

```py
# zip provides us with both the x and y in a tuple.
newData = list(zip(con_list[0], con_list[1]))
columns = ['obj_contour_x', 'obj_contour_y']
df = pd.DataFrame(newData, columns=columns)

```

现在，我们有了一个整洁的数据框架！

```py
    obj_contour_x  obj_contour_y
0       37.165746      58.593002
1       61.944751      44.276243
2       89.476980      23.902394
3      126.920810       0.775322
4      169.320442       2.977901
5      226.036832      61.346225
6      259.075506     126.872928
7      258.524862     214.976059
8      203.460405     267.837937
9      177.580110     270.591160
10     147.845304     298.674033
11     117.009208     298.674033
12       1.373849     187.994475
13       1.373849      94.935543
14       7.981584      90.530387
15       0.823204      77.314917
16      16.241252      62.447514
17      31.659300      62.998158
18      38.817680      56.941068
19      38.817680      56.941068

```

如您所见，在一个简单的两列数据框中，我们有图像轮廓的 X 和 Y 坐标。

这应该让您对文件中数据的性质有所了解。

为每个**创建数据帧的过程。mat** 文件是不同的，但是，凭借经验和实践，它们创建出了**。文件会自然而然地来到你面前。**

本文到此为止！

## 结论

你现在知道如何使用**。mat** 文件，以及如何用它的内容在 pandas 中创建数据帧。

处理这些数据的下一步是创建您自己的模型，或者使用现有的模型来训练或测试您的数据集副本。

## 参考

1.  [官方 Scipy.io 文档](https://docs.scipy.org/doc/)
2.  官方熊猫数据框架文档