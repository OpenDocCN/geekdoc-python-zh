# åˆ©ç”¨é€’å½’åœ¨ Python ä¸­æ±‚è§£ 0-1 èƒŒåŒ…é—®é¢˜

> åŸæ–‡ï¼š<https://www.askpython.com/python/examples/knapsack-problem-recursion>

å—¨ä¼™è®¡ä»¬ï¼åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘è¯•å›¾è§£é‡ŠèƒŒåŒ…é—®é¢˜ã€‚åœ¨é¢è¯•è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šåœ¨æŸä¸ªåœ°æ–¹é‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨é€’å½’æ–¹æ³•ã€‚å¦‚æœä½ ä¸çŸ¥é“é€’å½’æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œçœ‹çœ‹ä¸‹é¢çš„æ•™ç¨‹ã€‚

***äº†è§£æ›´å¤šå…³äºé€’å½’çš„çŸ¥è¯†:[Python ä¸­çš„é€’å½’](https://www.askpython.com/python/python-recursion-function)***

* * *

## èƒŒåŒ…é—®é¢˜ç®€ä»‹

æœ‰ä¸ªå°å·å¸¦ç€ä¸€ä¸ªèƒ½è£…ä¸‹æ€»é‡é‡`capacity`çš„èƒŒåŒ…ã€‚ä»–æœ‰ n ä»¶ä¸åŒé‡é‡å’Œä»·æ ¼çš„ç‰©å“è¦å·ã€‚

![01 Knapsack Problem](img/449ea20180ad21797760b2222a2436ce.png)

01 Knapsack Problem

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªåä¸º`**knapsack**`çš„å‡½æ•°ï¼Œå®ƒå°†æ‰¾å‡ºè¿™äº›ç‰©å“çš„å­é›†ï¼Œè€ƒè™‘åˆ°æ‰€æœ‰ç‰©å“çš„æ€»é‡é‡ä¸è¶…è¿‡èƒŒåŒ…çš„ç»™å®š`capacity`ï¼Œä»è€Œä¸ºå°å·å¸¦æ¥æœ€å¤§åˆ©æ¶¦ã€‚

***ä¹Ÿè¯»:[ç”¨ Python è§£å†³æœ‹å‹æ—…è¡Œé—®é¢˜ã€è°·æ­Œé¢è¯•é—®é¢˜ã€‘](https://www.askpython.com/python/examples/friends-travel-problem)***

ä¸‹å›¾è¯´æ˜äº†åŒæ ·çš„æƒ…å†µã€‚

![01 Knapsack Problem 1](img/40039ea8666d3aa1b40fb50aa9d3cfdc.png)

01 Knapsack Problem 1

* * *

## ç”¨é€’å½’è§£å†³ Python ä¸­çš„èƒŒåŒ…é—®é¢˜

æˆ‘ä»¬å°†è€ƒè™‘åˆ°ï¼Œå¯¹äºæ¯ä¸€ä»¶ç‰©å“ï¼Œå°å·æœ‰ä¸¤ç§é€‰æ‹©:è¦ä¹ˆåŒ…æ‹¬è¯¥ç‰©å“ï¼Œè¦ä¹ˆæ’é™¤è¯¥ç‰©å“ï¼Œä¸è¦æ‹¿èµ·å®ƒã€‚

å¦‚æœå°å·**åŒ…æ‹¬ä¸€ä¸ªç‰©å“ï¼Œ**æˆ‘ä»¬å°†ä¸ºå‰©ä½™çš„ **n-1** ç‰©å“å¯»æ‰¾æœ€å¤§åˆ©æ¶¦ï¼Œå¹¶ä¸”ä¹Ÿå°†æ ¹æ®æ‰€åŒ…æ‹¬ç‰©å“çš„é‡é‡å‡å°‘å®¹é‡ã€‚

æ€»åˆ©æ¶¦ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†æ˜¯:**ç‰©å“ä»·æ ¼+n-1 ä¸ªç‰©å“çš„åˆ©æ¶¦(å®¹é‡-ç‰©å“é‡é‡)å‰©ä½™**

å¦‚æœä¸€ä¸ªäººæ’é™¤äº†è¯¥å•†å“ï¼Œæˆ‘ä»¬å°†ä»å•†åº—ä¸­æ‰¾åˆ°å‰©ä½™çš„ **n-1** å•†å“çš„åˆ©æ¶¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåˆ©æ¶¦å°†æ˜¯:**å‰©ä½™äº§èƒ½çš„ n-1 é¡¹åˆ©æ¶¦**

æœ€ç»ˆç­”æ¡ˆå°†æ˜¯ä¸¤ç§æƒ…å†µä¸‹çš„æœ€å¤§åˆ©æ¶¦ã€‚

* * *

## ä»£ç å®ç°

```py
def knapsack(n,capacity,weights,prices):
    if(n==0 or capacity==0):
        return 0

    if (weights[n-1]>capacity):
        return knapsack(n-1,capacity,weights,prices)

    else:
        return max(prices[n-1] + knapsack(n-1,capacity-weights[n-1],weights,prices),
                   knapsack(n-1,capacity,weights,prices))

weights = [1,2,3,4]
prices = [50,200,150,100]
n = 4
capacity = 7

print(knapsack(n,capacity,weights,prices))

```

å½“å‰ä»£ç æ‰§è¡Œåæ¥æ”¶åˆ°çš„è¾“å‡ºä¸º **400** ï¼Œè¿™æ˜¯æ­£ç¡®çš„è¾“å‡ºã€‚

* * *

æ„Ÿè°¢æ‚¨èŠ±æ—¶é—´é˜…è¯»æ•™ç¨‹ï¼æˆ‘å¸Œæœ›èƒŒåŒ…é—®é¢˜ç°åœ¨ä½ å·²ç»æ¸…æ¥šäº†ã€‚

å¿«ä¹å­¦ä¹ ï¼ğŸ˜‡

* * *