# Flask é”™è¯¯å¤„ç†â€“åœ¨ Flask ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰é”™è¯¯é¡µé¢

> åŸæ–‡ï¼š<https://www.askpython.com/python-modules/flask/flask-error-handling>

æœ¬æ–‡å°†å¤„ç†ä¸åŒç±»å‹çš„ HTTP é”™è¯¯ï¼Œç„¶åå­¦ä¹ å¦‚ä½•ä½¿ç”¨ Flask é”™è¯¯å¤„ç†æ¥å¤„ç†è¿™äº›é”™è¯¯ã€‚æ‰€ä»¥è®©æˆ‘ä»¬å¼€å§‹å§ï¼

## ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦é”™è¯¯å¤„ç†ï¼Ÿ

web åº”ç”¨ç¨‹åºä¸­çš„é”™è¯¯å¯èƒ½ç”±äºå¤šç§åŸå› è€Œå‘ç”Ÿã€‚è¿™å¯èƒ½æ˜¯ç”±äºåº”ç”¨ç¨‹åºä¸­çš„é”™è¯¯ä»£ç æˆ–ç”¨æˆ·çš„ä¸€äº›é”™è¯¯è¯·æ±‚æˆ–æœåŠ¡å™¨åœæœºã€‚

å› æ­¤ï¼Œå¤„ç†è¿™äº›é”™è¯¯è‡³å…³é‡è¦ã€‚è™½ç„¶æµè§ˆå™¨é»˜è®¤ä¸ºæ‚¨å¤„ç† HTTP é”™è¯¯ï¼Œä½†æ˜¯è¾“å‡ºå¹¶ä¸ç¾è§‚ã€‚

ä¾‹å¦‚ï¼Œåœ¨æ„å»º Flask åº”ç”¨ç¨‹åºæ—¶ï¼Œæ‚¨å¯èƒ½ä¼šé‡åˆ° 500 ä¸ªå†…éƒ¨æœåŠ¡å™¨é”™è¯¯ã€‚

![500 Internal Server Error](img/a74898d18d53b4582b345ef2d440b7c1.png)

500 Internal Server Error

ä¸€è¡Œç®€å•çš„æŒ‡ç¤ºé”™è¯¯åŸå› å°±è¶³å¤Ÿäº†ï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºæ— å…³çš„æ•°æ®ã€‚

è¿™å°±æ˜¯ Flask é”™è¯¯å¤„ç†ç¨‹åºå‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚

ä½¿ç”¨ Flask é”™è¯¯å¤„ç†ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥:

1.  è‡ªå®šä¹‰é”™è¯¯é¡µé¢å¤–è§‚ã€‚
2.  ä»…å‘ç”¨æˆ·æ˜¾ç¤ºç›¸å…³æ•°æ®ã€‚

## **å¸¸è§ HTTP é”™è¯¯**

ä¸€äº›æœ€å¸¸è§çš„é”™è¯¯æ˜¯:

| HTTP é”™è¯¯ä»£ç  | æ„ä¹‰ |
| --- | --- |
| **301** | æ°¸ä¹…ç§»åŠ¨ |
| **302** | ä¸´æ—¶ç§»åŠ¨ |
| **400** | é”™è¯¯çš„è¯·æ±‚ |
| **403** | è¢«ç¦æ­¢çš„ |
| **404** | æœªå‘ç° |
| **429** | å¤ªå¤šè¯·æ±‚ |
| **500** | å†…éƒ¨æœåŠ¡å™¨é”™è¯¯ |
| **502** | é”™è¯¯ç½‘å…³ |
| **503** | æœåŠ¡ä¸å¯ç”¨ |
| **504** | ç½‘å…³è¶…æ—¶ |

HTTP Errors

## **åŠ¨æ‰‹æ“ä½œçƒ§ç“¶é”™è¯¯å¤„ç†**

é”™è¯¯ä»£ç â€”**404**å’Œ **500** æ˜¯æˆ‘ä»¬æ¯å¤©å¤„ç†çš„æœ€å¸¸è§çš„é”™è¯¯ã€‚

å› æ­¤ï¼Œåœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¸º 404 å’Œ 500 æ„å»ºä¸€ä¸ªç®€å•çš„é”™è¯¯å¤„ç†ç¨‹åºã€‚å…¶ä»–é”™è¯¯çš„è¯­æ³•å®Œå…¨ç›¸åŒã€‚

åœ¨ flask ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å†…ç½®çš„ **error_handler decorator** ã€‚

è¯­æ³•æ˜¯:

```py
@app.errorhandler(status_code)
def function_name(error):
    return render_template('xyz.html'),status_code

```

å› æ­¤ï¼Œè€ƒè™‘ä»¥ä¸‹çƒ§ç“¶åº”ç”¨ç¤ºä¾‹:

```py
from flask import Flask, render_template

app = Flask(__name__)

@app.route('/blogs')
def blog():
    return render_template('blog.html')

#Handling error 404 and displaying relevant web page
@app.errorhandler(404)
def not_found_error(error):
    return render_template('404.html'),404

#Handling error 500 and displaying relevant web page
@app.errorhandler(500)
def internal_error(error):
    return render_template('500.html'),500

#app.run(host='localhost', port=5000)
app.run(host='localhost', port=5000)

```

**Blog.html:**

```py
<h2>Welcome to the Blog</h2>

```

**404.html**æ–‡ä»¶:

```py
<h2>The webpage you are trying is not found</h2>
<img src = "{{url_for('static','images/opps.jpg') }}"

```

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå›¾åƒæ¥æ˜¾ç¤ºåœ¨ 404 ç½‘é¡µä¸Š

åŒæ ·åœ°**500.html**æ–‡ä»¶:

```py
<h2>Something Went Wrong</h2>

```

## **å®æ–½**

ç°åœ¨è¿è¡ŒæœåŠ¡å™¨ï¼Œå¹¶è½¬åˆ°ä»»ä½•ä¸å­˜åœ¨çš„ URL ç«¯ç‚¹

![404
](img/7e2d68cda7d387f45bebbee6e596f1e4.png)

404

ç°åœ¨ä¸ºäº†å¾—åˆ° 500 çš„é”™è¯¯ï¼Œæ•…æ„æŠŠ **render_template()** çš„å‡ ä¸ªå­—æ¯äº’æ¢æˆ **remder_template()**

ç°åœ¨é‡å¯æœåŠ¡å™¨ï¼Œè¿›å…¥ **"/blogs"** ç½‘å€ã€‚æ‚¨ç°åœ¨å°†çœ‹åˆ° 500 é”™è¯¯é¡µé¢

![500 Error page](img/14b15ebfbd81e4417d3ae1a1e2591c5d.png)

500 Error Page

å®Œç¾ï¼

## **ç»“è®º**

å°±è¿™æ ·ï¼Œä¼™è®¡ä»¬ï¼ï¼æ‚¨ç°åœ¨å¯ä»¥æ ¹æ®æ‚¨çš„ç½‘é¡µä¸»é¢˜è‡ªå®šä¹‰é”™è¯¯é¡µé¢ã€‚ä¸€å®šè¦çœ‹çœ‹æˆ‘ä»¬çš„å…¶ä»– [Flask æ•™ç¨‹](https://www.askpython.com/flask)æ¥äº†è§£æ›´å¤šå…³äº Flask çš„çŸ¥è¯†ã€‚

ä¸‹ä¸€ç¯‡æ–‡ç« å†è§ï¼ï¼å¿«ä¹ç¼–ç ğŸ™‚