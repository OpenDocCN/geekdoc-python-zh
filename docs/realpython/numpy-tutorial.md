# NumPy æ•™ç¨‹:ç”¨ Python å­¦ä¹ æ•°æ®ç§‘å­¦çš„ç¬¬ä¸€æ­¥

> åŸæ–‡ï¼š<https://realpython.com/numpy-tutorial/>

NumPy æ˜¯ä¸€ä¸ª Python åº“ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„æ•°æ®ç»“æ„: **n ç»´æ•°ç»„**ã€‚è¿™æ˜¯ Python æ•°æ®ç§‘å­¦å·¥å…·åŒ…å‡ ä¹æ‰€æœ‰åŠŸèƒ½çš„åŸºç¡€ï¼Œå­¦ä¹  NumPy æ˜¯ä»»ä½• Python æ•°æ®ç§‘å­¦å®¶æ—…ç¨‹çš„ç¬¬ä¸€æ­¥ã€‚æœ¬æ•™ç¨‹å°†ä¸ºæ‚¨æä¾›ä½¿ç”¨ NumPy å’Œä¾èµ–å®ƒçš„é«˜çº§åº“æ‰€éœ€çš„çŸ¥è¯†ã€‚

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œä½ å°†å­¦ä¹ :

*   NumPy ä½¿æ•°æ®ç§‘å­¦ä¸­çš„å“ªäº›æ ¸å¿ƒæ¦‚å¿µæˆä¸ºå¯èƒ½
*   å¦‚ä½•ä½¿ç”¨å„ç§æ–¹æ³•åˆ›å»º NumPy æ•°ç»„
*   å¦‚ä½•æ“ä½œ NumPy æ•°ç»„æ¥æ‰§è¡Œ**æœ‰ç”¨çš„è®¡ç®—**
*   å¦‚ä½•å°†è¿™äº›æ–°æŠ€èƒ½åº”ç”¨äº**ç°å®ä¸–ç•Œçš„é—®é¢˜**

ä¸ºäº†å……åˆ†åˆ©ç”¨æœ¬ NumPy æ•™ç¨‹ï¼Œæ‚¨åº”è¯¥ç†Ÿæ‚‰ Python ä»£ç çš„ç¼–å†™ã€‚å­¦ä¹  Python çš„[å…¥é—¨](https://realpython.com/learning-paths/python3-introduction/)æ˜¯ç¡®ä¿ä½ æŒæ¡åŸºæœ¬æŠ€èƒ½çš„å¥½æ–¹æ³•ã€‚å¦‚æœä½ ç†Ÿæ‚‰[çŸ©é˜µæ•°å­¦](https://en.wikipedia.org/wiki/Matrix_(mathematics))ï¼Œé‚£è‚¯å®šä¹Ÿä¼šæœ‰æ‰€å¸®åŠ©ã€‚ç„¶è€Œï¼Œä½ ä¸éœ€è¦äº†è§£ä»»ä½•å…³äºæ•°æ®ç§‘å­¦çš„çŸ¥è¯†ã€‚ä½ ä¼šåœ¨è¿™é‡Œå­¦åˆ°çš„ã€‚

è¿˜æœ‰ä¸€ä¸ª NumPy ä»£ç ç¤ºä¾‹åº“ï¼Œæ‚¨å°†åœ¨æœ¬æ•™ç¨‹ä¸­çœ‹åˆ°ã€‚æ‚¨å¯ä»¥å°†å®ƒä½œä¸ºå‚è€ƒï¼Œå¹¶ä½¿ç”¨ç¤ºä¾‹è¿›è¡Œå®éªŒï¼Œçœ‹çœ‹æ›´æ”¹ä»£ç ä¼šå¦‚ä½•æ”¹å˜ç»“æœã€‚è¦ä¸‹è½½ä»£ç ï¼Œè¯·å•å‡»ä¸‹é¢çš„é“¾æ¥:

**è·å–ç¤ºä¾‹ä»£ç :** [å•å‡»æ­¤å¤„è·å–ç¤ºä¾‹ä»£ç ï¼Œæ‚¨å°†åœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨](https://realpython.com/bonus/numpy-python-code/)æ¥äº†è§£ NumPyã€‚

## é€‰æ‹© NumPy:å¥½å¤„

æ—¢ç„¶ä½ å·²ç»çŸ¥é“ Pythonï¼Œä½ å¯èƒ½ä¼šé—®è‡ªå·±æ˜¯å¦çœŸçš„éœ€è¦å­¦ä¹ ä¸€ä¸ªå…¨æ–°çš„èŒƒå¼æ¥åšæ•°æ®ç§‘å­¦ã€‚Python çš„ [`for`å¾ªç¯](https://realpython.com/python-for-loop/)ç‰›é€¼ï¼[è¯»å†™ CSV æ–‡ä»¶](https://realpython.com/python-csv/)å¯ä»¥ç”¨ä¼ ç»Ÿä»£ç å®Œæˆã€‚ç„¶è€Œï¼Œæœ‰ä¸€äº›ä»¤äººä¿¡æœçš„ç†ç”±æ¥å­¦ä¹ ä¸€ç§æ–°çš„èŒƒå¼ã€‚

ä»¥ä¸‹æ˜¯ NumPy å¯ä»¥ä¸ºæ‚¨çš„ä»£ç å¸¦æ¥çš„å››å¤§å¥½å¤„:

1.  æ›´å¿«çš„é€Ÿåº¦: NumPy ä½¿ç”¨ç”¨ C ç¼–å†™çš„ç®—æ³•ï¼Œè¿™äº›ç®—æ³•åœ¨çº³ç§’è€Œä¸æ˜¯ç§’å†…å®Œæˆã€‚
2.  **æ›´å°‘çš„å¾ªç¯:** NumPy å¸®åŠ©ä½ [å‡å°‘å¾ªç¯](https://realpython.com/numpy-array-programming/)å¹¶é¿å…é™·å…¥è¿­ä»£ç´¢å¼•ä¸­ã€‚
3.  æ›´æ¸…æ™°çš„ä»£ç :æ²¡æœ‰å¾ªç¯ï¼Œä½ çš„ä»£ç çœ‹èµ·æ¥æ›´åƒä½ è¯•å›¾è®¡ç®—çš„æ–¹ç¨‹ã€‚
4.  æ›´å¥½çš„è´¨é‡:æœ‰æˆåƒä¸Šä¸‡çš„è´¡çŒ®è€…è‡´åŠ›äºä¿æŒ NumPy å¿«é€Ÿã€å‹å¥½å’Œæ—  bugã€‚

ç”±äºè¿™äº›å¥½å¤„ï¼ŒNumPy æ˜¯ Python æ•°æ®ç§‘å­¦ä¸­å¤šç»´æ•°ç»„çš„äº‹å®ä¸Šçš„æ ‡å‡†ï¼Œè®¸å¤šæœ€æµè¡Œçš„åº“éƒ½å»ºç«‹åœ¨å®ƒä¹‹ä¸Šã€‚å­¦ä¹  NumPy æ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨æ‚¨å°†çŸ¥è¯†æ‰©å±•åˆ°æ›´å…·ä½“çš„æ•°æ®ç§‘å­¦é¢†åŸŸæ—¶æ‰“ä¸‹åšå®çš„åŸºç¡€ã€‚

[*Remove ads*](/account/join/)

## å®‰è£…æ•°å­—

æ˜¯æ—¶å€™åšå¥½ä¸€åˆ‡å‡†å¤‡äº†ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥å¼€å§‹å­¦ä¹ å¦‚ä½•ä½¿ç”¨ NumPy äº†ã€‚æœ‰å‡ ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼ŒæŒ‰ç…§ [NumPy ç½‘ç«™](https://numpy.org/install/)ä¸Šçš„è¯´æ˜åšå°±ä¸ä¼šå‡ºé”™ã€‚ä½†æ˜¯ä¸‹é¢åˆ—å‡ºäº†ä¸€äº›éœ€è¦æ³¨æ„çš„é¢å¤–ç»†èŠ‚ã€‚

æ‚¨è¿˜å°†å®‰è£… Matplotlibã€‚æ‚¨å°†åœ¨åé¢çš„ä¸€ä¸ªç¤ºä¾‹ä¸­ä½¿ç”¨å®ƒæ¥æ¢ç´¢å…¶ä»–åº“å¦‚ä½•åˆ©ç”¨ NumPyã€‚

### ä½¿ç”¨ Repl.it ä½œä¸ºåœ¨çº¿ç¼–è¾‘å™¨

å¦‚æœä½ åªæ˜¯æƒ³ä»ä¸€äº›ä¾‹å­å¼€å§‹ï¼Œè·Ÿéšæœ¬æ•™ç¨‹ï¼Œå¹¶å¼€å§‹ç”¨ NumPy å»ºç«‹ä¸€äº›è‚Œè‚‰è®°å¿†ï¼Œé‚£ä¹ˆ [Repl.it](https://repl.it/) æ˜¯æµè§ˆå™¨å†…ç¼–è¾‘çš„ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚æ‚¨å¯ä»¥æ³¨å†Œå¹¶åœ¨å‡ åˆ†é’Ÿå†…å¯åŠ¨ Python ç¯å¢ƒã€‚åœ¨å·¦ä¾§ï¼Œæœ‰ä¸€ä¸ªåŒ…è£¹æ ‡ç­¾ã€‚ä½ æƒ³åŠ å¤šå°‘éƒ½å¯ä»¥ã€‚å¯¹äºæœ¬ NumPy æ•™ç¨‹ï¼Œè¯·ä½¿ç”¨å½“å‰ç‰ˆæœ¬çš„ NumPy å’Œ Matplotlibã€‚

æ‚¨å¯ä»¥åœ¨ç•Œé¢ä¸­çš„ä»¥ä¸‹ä½ç½®æ‰¾åˆ°è¿™äº›åŒ…:

[![The location of the "Packages" tab on Repl.it.](img/0fc63ee5d89818ab87a3f98bc4c07e1b.png)](https://files.realpython.com/media/numpy-tutorial-replit-1000.070229bde757.png)

å¹¸è¿çš„æ˜¯ï¼Œä»–ä»¬å…è®¸ä½ ç‚¹å‡»å®‰è£…ã€‚

### ç”¨ Anaconda å®‰è£… NumPyã€‘

[Anaconda](https://www.anaconda.com/products/individual) å‘è¡Œç‰ˆæ˜¯ä¸€å¥—é€šç”¨çš„ Python æ•°æ®ç§‘å­¦å·¥å…·ï¼Œæ†ç»‘åœ¨**åŒ…ç®¡ç†å™¨**å‘¨å›´ï¼Œå¸®åŠ©ç®¡ç†ä½ çš„[è™šæ‹Ÿç¯å¢ƒ](https://realpython.com/python-virtual-environments-a-primer/)å’Œé¡¹ç›®ä¾èµ–å…³ç³»ã€‚å®ƒæ˜¯å›´ç»• [`conda`](https://docs.conda.io/en/latest/) æ„å»ºçš„ï¼Œä¹Ÿå°±æ˜¯å®é™…çš„åŒ…ç®¡ç†å™¨ã€‚è¿™æ˜¯ NumPy é¡¹ç›®æ¨èçš„æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæ‚¨åœ¨è¿˜æ²¡æœ‰[å»ºç«‹å¤æ‚çš„å¼€å‘ç¯å¢ƒ](https://realpython.com/python-windows-machine-learning-setup/)çš„æƒ…å†µä¸‹å°±å¼€å§‹ä½¿ç”¨ Python è¿›è¡Œæ•°æ®ç§‘å­¦ç ”ç©¶ã€‚

å¦‚æœä½ å·²ç»æœ‰äº†ä¸€ä¸ªä½ å–œæ¬¢çš„å·¥ä½œæµï¼Œå®ƒä½¿ç”¨äº† [`pip`](https://realpython.com/what-is-pip/) ã€ [Pipenv](https://realpython.com/pipenv-guide/) ã€[è¯—æ„](https://realpython.com/effective-python-environment/#poetry)ï¼Œæˆ–è€…å…¶ä»–ä¸€äº›å·¥å…·é›†ï¼Œé‚£ä¹ˆæœ€å¥½ä¸è¦æŠŠ`conda`åŠ å…¥å…¶ä¸­ã€‚`conda`åŒ…ä»“åº“ä¸ [PyPI](https://pypi.org/) æ˜¯åˆ†å¼€çš„ï¼Œå¹¶ä¸”`conda`æœ¬èº«åœ¨ä½ çš„æœºå™¨ä¸Šå»ºç«‹äº†ä¸€ä¸ªç‹¬ç«‹çš„åŒ…å²›ï¼Œæ‰€ä»¥ç®¡ç†è·¯å¾„å’Œè®°ä½å“ªä¸ªåŒ…åœ¨å“ªé‡Œå¯èƒ½æ˜¯ä¸€ä¸ª[å™©æ¢¦](https://xkcd.com/1987/)ã€‚

ä¸€æ—¦å®‰è£…äº†`conda`,æ‚¨å°±å¯ä»¥å¯¹æ‚¨éœ€è¦çš„åº“è¿è¡Œ`install`å‘½ä»¤:

```py
$ conda install numpy matplotlib
```

è¿™å°†å®‰è£…æ‚¨éœ€è¦çš„ NumPy æ•™ç¨‹ï¼Œæ‚¨å°†ä¸€åˆ‡å°±ç»ªã€‚

### ä½¿ç”¨`pip`å’Œå®‰è£… NumPy

å°½ç®¡ NumPy é¡¹ç›®å»ºè®®ï¼Œå¦‚æœä½ æƒ³é‡æ–°å¼€å§‹ï¼Œå°±ä½¿ç”¨`conda`ï¼Œè‡ªå·±ç®¡ç†ä½ çš„ç¯å¢ƒä¹Ÿæ²¡ä»€ä¹ˆä¸å¥½ï¼Œåªè¦ä½¿ç”¨å¥½çš„æ—§çš„`pip`ï¼ŒPipenvï¼Œè¯—æ­Œï¼Œæˆ–è€…å…¶ä»–ä»»ä½•ä½ å–œæ¬¢çš„[æ¥æ›¿ä»£`pip`](https://realpython.com/what-is-pip/#alternatives-to-pip) ã€‚

ä»¥ä¸‹æ˜¯ä½¿ç”¨`pip`è¿›è¡Œè®¾ç½®çš„å‘½ä»¤:

```py
$ mkdir numpy-tutorial
$ cd numpy-tutorial
$ python3 -m venv .numpy-tutorial-venv
$ source .numpy-tutorial-venv/bin/activate

(.numpy-tutorial-venv)
$ pip install numpy matplotlib
Collecting numpy
 Downloading numpy-1.19.1-cp38-cp38-macosx_10_9_x86_64.whl (15.3 MB)
 |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 15.3 MB 2.7 MB/s
Collecting matplotlib
 Downloading matplotlib-3.3.0-1-cp38-cp38-macosx_10_9_x86_64.whl (11.4 MB)
 |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 11.4 MB 16.8 MB/s
...
```

åœ¨æ­¤ä¹‹åï¼Œç¡®ä¿æ‚¨çš„è™šæ‹Ÿç¯å¢ƒè¢«æ¿€æ´»ï¼Œå¹¶ä¸”æ‚¨çš„æ‰€æœ‰ä»£ç éƒ½åº”è¯¥æŒ‰é¢„æœŸè¿è¡Œã€‚

### ä½¿ç”¨ IPythonã€ç¬”è®°æœ¬ç”µè„‘æˆ– JupyterLab

è™½ç„¶ä»¥ä¸Šéƒ¨åˆ†åº”è¯¥ä¸ºæ‚¨æä¾›äº†å…¥é—¨æ‰€éœ€çš„ä¸€åˆ‡ï¼Œä½†æ˜¯æ‚¨è¿˜å¯ä»¥é€‰æ‹©å®‰è£…ä¸€äº›å·¥å…·ï¼Œä»¥ä½¿æ•°æ®ç§‘å­¦çš„å·¥ä½œå¯¹å¼€å‘äººå‘˜æ›´åŠ å‹å¥½ã€‚

[IPython](https://ipython.org/install.html) æ˜¯ä¸€ä¸ªå‡çº§çš„ Python[read-eval-print loop(REPL)](https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop)ï¼Œå®ƒä½¿å¾—åœ¨å®æ—¶è§£é‡Šå™¨ä¼šè¯ä¸­ç¼–è¾‘ä»£ç å˜å¾—æ›´åŠ ç®€å•å’Œæ¼‚äº®ã€‚ä»¥ä¸‹æ˜¯ IPython REPL ä¼šè®®çš„æƒ…å†µ:

>>>

```py
In [1]: import numpy as np

In [2]: digits = np.array([
 ...:    [1, 2, 3],
 ...:    [4, 5, 6],
 ...:    [6, 7, 9],
 ...: ])

In [3]: digits
Out[3]:
array([[1, 2, 3],
 [4, 5, 6],
 [6, 7, 9]])
```

å®ƒä¸åŸºæœ¬çš„ Python REPL æœ‰å‡ ä¸ªä¸åŒä¹‹å¤„ï¼ŒåŒ…æ‹¬è¡Œå·ã€é¢œè‰²çš„ä½¿ç”¨ä»¥åŠæ•°ç»„å¯è§†åŒ–çš„è´¨é‡ã€‚è¿˜æœ‰å¾ˆå¤šç”¨æˆ·ä½“éªŒä¸Šçš„å¥½å¤„ï¼Œè®©è¾“å…¥ã€é‡æ–°è¾“å…¥å’Œç¼–è¾‘ä»£ç å˜å¾—æ›´åŠ æ„‰å¿«ã€‚

æ‚¨å¯ä»¥ç‹¬ç«‹å®‰è£… IPython:

```py
$ pip install ipython
```

æˆ–è€…ï¼Œå¦‚æœæ‚¨ç­‰å¾…å¹¶å®‰è£…ä»»ä½•åç»­å·¥å…·ï¼Œé‚£ä¹ˆå®ƒä»¬å°†åŒ…å« IPython çš„å‰¯æœ¬ã€‚

REPL çš„ä¸€ä¸ªç¨å¾®æœ‰ç‚¹ç‰¹è‰²çš„æ›¿ä»£å“æ˜¯ä¸€ä¸ªç¬”è®°æœ¬ç”µè„‘ã€‚ä¸è¿‡ï¼Œç¬”è®°æœ¬ç¼–å†™ Python çš„é£æ ¼ä¸æ ‡å‡†è„šæœ¬ç•¥æœ‰ä¸åŒã€‚å–ä»£ä¼ ç»Ÿçš„ Python æ–‡ä»¶ï¼Œä»–ä»¬ç»™ä½ ä¸€ç³»åˆ—å«åš**å•å…ƒ**çš„è¿·ä½ è„šæœ¬ï¼Œä½ å¯ä»¥åœ¨åŒä¸€ä¸ª Python å†…å­˜ä¼šè¯ä¸­ä»¥ä»»ä½•ä½ æƒ³è¦çš„é¡ºåºè¿è¡Œå’Œé‡æ–°è¿è¡Œã€‚

ç¬”è®°æœ¬çš„ä¸€ä¸ªå·§å¦™ä¹‹å¤„åœ¨äºï¼Œä½ å¯ä»¥åœ¨å•å…ƒæ ¼ä¹‹é—´åŒ…å«å›¾è¡¨å’Œæ¸²æŸ“ [Markdown](https://realpython.com/jupyter-notebook-introduction/) æ®µè½ï¼Œå› æ­¤å®ƒä»¬éå¸¸é€‚åˆåœ¨ä»£ç å†…éƒ¨ç¼–å†™æ•°æ®åˆ†æï¼

å®ƒçœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:

[![A screenshot of a Jupyter notebook.](img/f5e142244b1f8f4554208a3c996971f7.png)](https://files.realpython.com/media/numpy-tutorial-jupyter-notebook-1000.c420ec12baaa.png)

æœ€å—æ¬¢è¿çš„ç¬”è®°æœ¬äº§å“å¯èƒ½æ˜¯ [Jupyter ç¬”è®°æœ¬](https://realpython.com/jupyter-notebook-introduction/)ï¼Œä½†[interact](https://nteract.io/)æ˜¯å¦ä¸€ç§é€‰æ‹©ï¼Œå®ƒåŒ…è£…äº† Jupyter çš„åŠŸèƒ½ï¼Œå¹¶è¯•å›¾è®©å®ƒå˜å¾—æ›´åŠ å¹³æ˜“è¿‘äººå’Œå¼ºå¤§ã€‚

ç„¶è€Œï¼Œå¦‚æœä½ åœ¨çœ‹ Jupyter ç¬”è®°æœ¬ï¼Œå¹¶è®¤ä¸ºå®ƒéœ€è¦æ›´å¤šç±»ä¼¼ IDE çš„å“è´¨ï¼Œé‚£ä¹ˆ [JupyterLab](https://jupyterlab.readthedocs.io/en/stable/) æ˜¯å¦ä¸€ä¸ªé€‰æ‹©ã€‚æ‚¨å¯ä»¥åœ¨åŸºäºæµè§ˆå™¨çš„ç•Œé¢ä¸­è‡ªå®šä¹‰æ–‡æœ¬ç¼–è¾‘å™¨ã€ç¬”è®°æœ¬ã€ç»ˆç«¯å’Œè‡ªå®šä¹‰ç»„ä»¶ã€‚å¯¹äºæ¥è‡ª [MatLab](https://realpython.com/matlab-vs-python/) çš„äººæ¥è¯´å¯èƒ½ä¼šæ›´èˆ’æœã€‚å®ƒæ˜¯æœ€å¹´è½»çš„äº§å“ï¼Œä½†å®ƒçš„ 1.0 ç‰ˆæœ¬æ—©åœ¨ 2019 å¹´å°±å‘å¸ƒäº†ï¼Œæ‰€ä»¥å®ƒåº”è¯¥æ˜¯ç¨³å®šçš„ï¼ŒåŠŸèƒ½é½å…¨çš„ã€‚

ç•Œé¢çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:

[![A screenshot of the JupyterLab demo](img/9e1734d17a783803265e1b381515a8fb.png)](https://files.realpython.com/media/numpy-tutorial-jupyterlab-1000.d3cbd73c9bb3.png)

æ— è®ºæ‚¨é€‰æ‹©å“ªä¸ªé€‰é¡¹ï¼Œä¸€æ—¦æ‚¨å®‰è£…äº†å®ƒï¼Œæ‚¨å°±å¯ä»¥è¿è¡Œç¬¬ä¸€è¡Œ NumPy ä»£ç äº†ã€‚æ˜¯æ—¶å€™ä¸¾ç¬¬ä¸€ä¸ªä¾‹å­äº†ã€‚

[*Remove ads*](/account/join/)

## Hello NumPy:æ›²çº¿æµ‹è¯•æˆç»©æ•™ç¨‹

ç¬¬ä¸€ä¸ªä¾‹å­ä»‹ç»äº† NumPy ä¸­çš„ä¸€äº›æ ¸å¿ƒæ¦‚å¿µï¼Œæ‚¨å°†åœ¨æœ¬æ•™ç¨‹çš„å‰©ä½™éƒ¨åˆ†ä¸­ä½¿ç”¨è¿™äº›æ¦‚å¿µ:

*   ä½¿ç”¨`numpy.array()`åˆ›å»ºæ•°ç»„
*   å°†å®Œæ•´æ•°ç»„è§†ä¸ºå•ä¸ªå€¼ï¼Œä½¿çŸ¢é‡åŒ–è®¡ç®—æ›´å…·å¯è¯»æ€§
*   ä½¿ç”¨å†…ç½®çš„ NumPy å‡½æ•°æ¥ä¿®æ”¹å’Œèšåˆæ•°æ®

è¿™äº›æ¦‚å¿µæ˜¯æœ‰æ•ˆä½¿ç”¨ NumPy çš„æ ¸å¿ƒã€‚

åœºæ™¯æ˜¯è¿™æ ·çš„:ä½ æ˜¯ä¸€åæ•™å¸ˆï¼Œåˆšåˆšåœ¨æœ€è¿‘çš„ä¸€æ¬¡æµ‹è¯•ä¸­ç»™ä½ çš„å­¦ç”Ÿæ‰“åˆ†ã€‚ä¸å¹¸çš„æ˜¯ï¼Œä½ å¯èƒ½æŠŠè€ƒè¯•æå¾—å¤ªæœ‰æŒ‘æˆ˜æ€§äº†ï¼Œå¤§éƒ¨åˆ†å­¦ç”Ÿçš„è¡¨ç°éƒ½æ¯”é¢„æœŸçš„å·®ã€‚ä¸ºäº†å¸®åŠ©å¤§å®¶ï¼Œä½ è¦**æ›²çº¿**æ¯ä¸ªäººçš„[æˆç»©](https://en.wikipedia.org/wiki/Relative_grading)ã€‚

ä¸è¿‡ï¼Œè¿™å°†æ˜¯ä¸€ä¸ªç›¸å¯¹åŸºæœ¬çš„æ›²çº¿ã€‚ä½ å°†å¾—åˆ°å¹³å‡åˆ†æ•°ï¼Œå¹¶å®£å¸ƒå®ƒä¸º cã€‚æ­¤å¤–ï¼Œä½ å°†ç¡®ä¿æ›²çº¿ä¸ä¼šæ„å¤–åœ°æŸå®³ä½ å­¦ç”Ÿçš„æˆç»©ï¼Œæˆ–è€…å¸®åŠ©å­¦ç”Ÿåšå¾—æ¯” 100%æ›´å¥½ã€‚

å°†æ­¤ä»£ç è¾“å…¥æ‚¨çš„ REPL:

>>>

```py
 1>>> import numpy as np 2>>> CURVE_CENTER = 80
 3>>> grades = np.array([72, 35, 64, 88, 51, 90, 74, 12]) 4>>> def curve(grades):
 5...     average = grades.mean() 6...     change = CURVE_CENTER - average
 7...     new_grades = grades + change 8...     return np.clip(new_grades, grades, 100) 9...
10>>> curve(grades)
11array([ 91.25,  54.25,  83.25, 100\.  ,  70.25, 100\.  ,  93.25,  31.25])
```

æœ€åˆçš„åˆ†æ•°æ ¹æ®ä»–ä»¬åœ¨ç¾¤ä½“ä¸­çš„ä½ç½®æœ‰æ‰€å¢åŠ ï¼Œä½†æ˜¯æ²¡æœ‰ä¸€ä¸ªåˆ†æ•°è¶…è¿‡ 100%ã€‚

ä»¥ä¸‹æ˜¯é‡è¦çš„äº®ç‚¹:

*   **ç¬¬ 1 è¡Œ**ä½¿ç”¨åˆ«å`np`å¯¼å…¥ NumPyï¼Œè¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„çº¦å®šï¼Œå¯ä»¥èŠ‚çœæ‚¨çš„ä¸€äº›å‡»é”®æ¬¡æ•°ã€‚
*   **ç¬¬ 3 è¡Œ**åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ª NumPy **æ•°ç»„**ï¼Œå®ƒæ˜¯ä¸€ç»´çš„ï¼Œå½¢çŠ¶ä¸º`(8,)`ï¼Œæ•°æ®ç±»å‹ä¸º`int64`ã€‚å…ˆä¸è¦å¤ªæ‹…å¿ƒè¿™äº›ç»†èŠ‚ã€‚åœ¨æœ¬æ•™ç¨‹çš„åé¢éƒ¨åˆ†ï¼Œæ‚¨å°†æ›´è¯¦ç»†åœ°ç ”ç©¶å®ƒä»¬ã€‚
*   **ç¬¬ 5 è¡Œ**ä½¿ç”¨ [`.mean()`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.mean.html#numpy.ndarray.mean) å–æ‰€æœ‰åˆ†æ•°çš„å¹³å‡å€¼ã€‚æ•°ç»„æœ‰ä¸€ä¸ª[æ–¹æ³•](https://numpy.org/doc/stable/reference/arrays.ndarray.html#array-methods)çš„ *lot* ã€‚

åœ¨ç¬¬ 7 è¡Œï¼Œæ‚¨åŒæ—¶åˆ©ç”¨äº†ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µ:

1.  â€¦å‘é‡åŒ–â€¦
2.  å¹¿æ’­

**å‘é‡åŒ–**æ˜¯å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»¥åŒæ ·çš„æ–¹å¼æ‰§è¡ŒåŒæ ·çš„æ“ä½œçš„è¿‡ç¨‹ã€‚è¿™ä»æ‚¨çš„ä»£ç ä¸­ç§»é™¤äº†`for`å¾ªç¯ï¼Œä½†è·å¾—äº†ç›¸åŒçš„ç»“æœã€‚

**å¹¿æ’­**æ˜¯æ‰©å±•ä¸¤ä¸ªä¸åŒå½¢çŠ¶çš„æ•°ç»„ï¼Œå¹¶æ‰¾å‡ºå¦‚ä½•åœ¨å®ƒä»¬ä¹‹é—´æ‰§è¡ŒçŸ¢é‡åŒ–è®¡ç®—çš„è¿‡ç¨‹ã€‚è®°ä½ï¼Œ`grades`æ˜¯å½¢çŠ¶ä¸º`(8,)`çš„æ•°å­—æ•°ç»„ï¼Œ`change`æ˜¯å½¢çŠ¶ä¸º`(1,)`çš„**æ ‡é‡**æˆ–å•ä¸ªæ•°å­—ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒNumPy å°†æ ‡é‡æ·»åŠ åˆ°æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«ç»“æœçš„æ–°æ•°ç»„ã€‚

æœ€åï¼Œåœ¨ç¬¬ 8 è¡Œï¼Œæ‚¨å°†å€¼é™åˆ¶ä¸ºä¸€ç»„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚é™¤äº†æ•°ç»„æ–¹æ³•ï¼ŒNumPy è¿˜æœ‰å¤§é‡çš„[å†…ç½®å‡½æ•°](https://numpy.org/doc/stable/reference/routines.html)ã€‚ä½ ä¸éœ€è¦æŠŠå®ƒä»¬éƒ½è®°ä½â€”â€”è¿™å°±æ˜¯æ–‡æ¡£çš„ä½œç”¨ã€‚ä»»ä½•æ—¶å€™ä½ é‡åˆ°å›°éš¾æˆ–è€…è§‰å¾—åº”è¯¥æœ‰ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•æ¥åšæŸä»¶äº‹ï¼Œçœ‹ä¸€çœ‹æ–‡æ¡£ï¼Œçœ‹çœ‹æ˜¯å¦å·²ç»æœ‰äº†ä¸€ä¸ªä¾‹ç¨‹æ¥åšä½ æ‰€éœ€è¦çš„äº‹æƒ…ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ•°ç»„å¹¶ç¡®ä¿å€¼ä¸è¶…è¿‡ç»™å®šçš„æœ€å°å€¼æˆ–æœ€å¤§å€¼ã€‚`clip()`ç¡®å®å¦‚æ­¤ã€‚

ç¬¬ 8 è¡Œè¿˜æä¾›äº†å¦ä¸€ä¸ªå¹¿æ’­ç¤ºä¾‹ã€‚å¯¹äº`clip()`çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ‚¨é€šè¿‡äº†`grades`ï¼Œç¡®ä¿æ¯ä¸ªæ–°å¼¯æ›²çš„å¡åº¦ä¸ä¼šä½äºåŸå§‹å¡åº¦ã€‚ä½†æ˜¯å¯¹äºç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œæ‚¨ä¼ é€’äº†ä¸€ä¸ªå€¼:`100`ã€‚NumPy è·å–è¯¥å€¼ï¼Œå¹¶å°†å…¶ä¼ æ’­ç»™`new_grades`ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œç¡®ä¿æ²¡æœ‰ä¸€ä¸ªæ–°çš„å¼¯æ›²ç­‰çº§è¶…è¿‡æ»¡åˆ†ã€‚

## è¿›å…¥çŠ¶æ€:æ•°ç»„å½¢çŠ¶å’Œè½´

ç°åœ¨ï¼Œæ‚¨å·²ç»çœ‹åˆ°äº† NumPy çš„ä¸€äº›åŠŸèƒ½ï¼Œæ˜¯æ—¶å€™ç”¨ä¸€äº›é‡è¦çš„ç†è®ºæ¥å·©å›ºè¿™ä¸ªåŸºç¡€äº†ã€‚æœ‰å‡ ä¸ªé‡è¦çš„æ¦‚å¿µéœ€è¦è®°ä½ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†é«˜ç»´æ•°ç»„æ—¶ã€‚

**å‘é‡**ï¼Œä¸€ç»´æ•°ç»„çš„æ•°å­—ï¼Œæ˜¯æœ€ä¸å¤æ‚çš„è·Ÿè¸ªã€‚äºŒç»´ä¹Ÿä¸é”™ï¼Œå› ä¸ºå®ƒä»¬ç±»ä¼¼äºç”µå­è¡¨æ ¼ã€‚ä½†æ˜¯äº‹æƒ…åœ¨ä¸‰ç»´ç©ºé—´å¼€å§‹å˜å¾—æ£˜æ‰‹ï¼Œè€Œåœ¨å››ç»´ç©ºé—´å¯è§†åŒ–å‘¢ï¼Ÿåˆ«æäº†ã€‚

[*Remove ads*](/account/join/)

### æŒæ¡å½¢çŠ¶

ä½¿ç”¨å¤šç»´æ•°ç»„æ—¶ï¼Œå½¢çŠ¶æ˜¯ä¸€ä¸ªå…³é”®æ¦‚å¿µã€‚åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œæ›´å®¹æ˜“å¿˜è®°å¯è§†åŒ–æ•°æ®çš„å½¢çŠ¶ï¼Œè€Œæ˜¯éµå¾ªä¸€äº›å¿ƒç†è§„åˆ™ï¼Œå¹¶ç›¸ä¿¡ NumPy ä¼šå‘Šè¯‰æ‚¨æ­£ç¡®çš„å½¢çŠ¶ã€‚

æ‰€æœ‰æ•°ç»„éƒ½æœ‰ä¸€ä¸ªåä¸º`.shape`çš„å±æ€§ï¼Œè¯¥å±æ€§è¿”å›æ¯ä¸ªç»´åº¦ä¸­çš„å¤§å°çš„å…ƒç»„ã€‚å“ªä¸ªç»´åº¦æ˜¯å“ªä¸ªç»´åº¦å¹¶ä¸é‡è¦ï¼Œä½†å…³é”®æ˜¯ä¼ é€’ç»™å‡½æ•°çš„æ•°ç»„çš„å½¢çŠ¶ç¬¦åˆå‡½æ•°çš„é¢„æœŸã€‚ç¡®è®¤æ‚¨çš„æ•°æ®å…·æœ‰æ­£ç¡®å½¢çŠ¶çš„ä¸€ä¸ªå¸¸è§æ–¹æ³•æ˜¯[æ‰“å°](https://realpython.com/python-print/)æ•°æ®åŠå…¶å½¢çŠ¶ï¼Œç›´åˆ°æ‚¨ç¡®å®šä¸€åˆ‡éƒ½å¦‚æ‚¨æ‰€æ„¿ã€‚

ä¸‹ä¸€ä¸ªä¾‹å­å°†å±•ç¤ºè¿™ä¸ªè¿‡ç¨‹ã€‚æ‚¨å°†åˆ›å»ºä¸€ä¸ªå…·æœ‰å¤æ‚å½¢çŠ¶çš„æ•°ç»„ï¼Œæ£€æŸ¥è¯¥æ•°ç»„ï¼Œå¹¶å¯¹å…¶é‡æ–°æ’åºï¼Œä½¿å…¶çœ‹èµ·æ¥åƒæ˜¯:

>>>

```py
In [1]: import numpy as np

In [2]: temperatures = np.array([
 ...:    29.3, 42.1, 18.8, 16.1, 38.0, 12.5,
 ...:    12.6, 49.9, 38.6, 31.3, 9.2, 22.2
 ...: ]).reshape(2, 2, 3)

In [3]: temperatures.shape
Out[3]: (2, 2, 3)

In [4]: temperatures
Out[4]:
array([[[29.3, 42.1, 18.8],
 [16.1, 38\. , 12.5]],

 [[12.6, 49.9, 38.6],
 [31.3,  9.2, 22.2]]])

In [5]: np.swapaxes(temperatures, 1, 2)
Out[5]:
array([[[29.3, 16.1],
 [42.1, 38\. ],
 [18.8, 12.5]],

 [[12.6, 31.3],
 [49.9,  9.2],
 [38.6, 22.2]]])
```

åœ¨è¿™é‡Œï¼Œæ‚¨ä½¿ç”¨ä¸€ä¸ªåä¸º`.reshape()`çš„`numpy.ndarray`æ–¹æ³•æ¥å½¢æˆä¸€ä¸ª 2 Ã— 2 Ã— 3 çš„æ•°æ®å—ã€‚å½“æ‚¨åœ¨è¾“å…¥ 3 ä¸­æ£€æŸ¥æ•°ç»„çš„å½¢çŠ¶æ—¶ï¼Œå®ƒæ­£æ˜¯æ‚¨å‘Šè¯‰å®ƒçš„å½¢çŠ¶ã€‚ç„¶è€Œï¼Œä½ å¯ä»¥çœ‹åˆ°å°åˆ·é˜µåˆ—å¾ˆå¿«å˜å¾—éš¾ä»¥åœ¨ä¸‰ç»´æˆ–æ›´å¤šç»´ä¸­å¯è§†åŒ–ã€‚åœ¨ä½ å’Œ`.swapaxes()`äº¤æ¢äº†åæ ‡è½´ä¹‹åï¼Œå“ªä¸ªç»´åº¦æ˜¯å“ªä¸ªç»´åº¦å°±å˜å¾—ä¸é‚£ä¹ˆæ¸…æ™°äº†ã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°æ›´å¤šå…³äºè½´çš„å†…å®¹ã€‚

â€œå½¢çŠ¶â€å°†åœ¨å¹¿æ’­éƒ¨åˆ†å†æ¬¡å‡ºç°ã€‚ç°åœ¨ï¼Œåªè¦è®°ä½è¿™äº›å°æ”¯ç¥¨ä¸éœ€è¦èŠ±è´¹ä»»ä½•ä¸œè¥¿ã€‚ä¸€æ—¦äº‹æƒ…è¿è¡Œé¡ºåˆ©ï¼Œæ‚¨å¯ä»¥éšæ—¶åˆ é™¤å•å…ƒæ ¼æˆ–åˆ é™¤ä»£ç ã€‚

### ç†è§£è½´

ä¸Šé¢çš„ä¾‹å­è¡¨æ˜ï¼Œä¸ä»…è¦çŸ¥é“æ•°æ®çš„å½¢çŠ¶ï¼Œè¿˜è¦çŸ¥é“å“ªäº›æ•°æ®åœ¨å“ªä¸ª**è½´**ä¸Šï¼Œè¿™æ˜¯å¤šä¹ˆé‡è¦ã€‚åœ¨ NumPy æ•°ç»„ä¸­ï¼Œè½´æ˜¯é›¶ç´¢å¼•çš„ï¼Œå¹¶æ ‡è¯†å“ªä¸ªç»´åº¦æ˜¯å“ªä¸ªç»´åº¦ã€‚ä¾‹å¦‚ï¼ŒäºŒç»´æ•°ç»„æœ‰ä¸€ä¸ªå‚ç›´è½´(è½´ 0)å’Œä¸€ä¸ªæ°´å¹³è½´(è½´ 1)ã€‚NumPy ä¸­çš„è®¸å¤šå‡½æ•°å’Œå‘½ä»¤æ ¹æ®æ‚¨å‘Šè¯‰å®ƒä»¬å¤„ç†å“ªä¸ªè½´æ¥æ”¹å˜å®ƒä»¬çš„è¡Œä¸ºã€‚

è¿™ä¸ªä¾‹å­å°†å±•ç¤ºåœ¨æ²¡æœ‰`axis`å‚æ•°çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤æƒ…å†µä¸‹`.max()`çš„è¡Œä¸ºï¼Œä»¥åŠå½“æ‚¨æä¾›å‚æ•°æ—¶ï¼Œå®ƒå¦‚ä½•æ ¹æ®æ‚¨æŒ‡å®šçš„`axis`æ¥æ”¹å˜åŠŸèƒ½:

>>>

```py
In [1]: import numpy as np

In [2]: table = np.array([
 ...:    [5, 3, 7, 1],
 ...:    [2, 6, 7 ,9],
 ...:    [1, 1, 1, 1],
 ...:    [4, 3, 2, 0],
 ...: ])

In [3]: table.max()
Out[3]: 9

In [4]: table.max(axis=0)
Out[4]: array([5, 6, 7, 9])

In [5]: table.max(axis=1)
Out[5]: array([7, 9, 1, 4])
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`.max()`è¿”å›æ•´ä¸ªæ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼Œä¸ç®¡æœ‰å¤šå°‘ç»´ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦æŒ‡å®šäº†ä¸€ä¸ªè½´ï¼Œå®ƒå°±ä¼šå¯¹è¯¥è½´ä¸Šçš„æ¯ç»„å€¼è¿›è¡Œè®¡ç®—ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨å‚æ•°`axis=0`ï¼Œ`.max()`é€‰æ‹©`table`ä¸­å››ç»„å‚ç›´å€¼ä¸­çš„æœ€å¤§å€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªå·²ç»è¢«**å±•å¹³**çš„æ•°ç»„ï¼Œæˆ–è€…èšåˆæˆä¸€ç»´æ•°ç»„ã€‚

äº‹å®ä¸Šï¼ŒNumPy çš„è®¸å¤šå‡½æ•°éƒ½æ˜¯è¿™æ ·è¿è¡Œçš„:å¦‚æœæ²¡æœ‰æŒ‡å®šè½´ï¼Œé‚£ä¹ˆå®ƒä»¬ä¼šå¯¹æ•´ä¸ªæ•°æ®é›†æ‰§è¡Œæ“ä½œã€‚å¦åˆ™ï¼Œå®ƒä»¬ä»¥**è½´å‘**æ–¹å¼æ‰§è¡Œæ“ä½œã€‚

### å¹¿æ’­

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨å·²ç»çœ‹åˆ°äº†å‡ ä¸ªè¾ƒå°çš„å¹¿æ’­ç¤ºä¾‹ï¼Œä½†æ˜¯çœ‹åˆ°çš„ç¤ºä¾‹è¶Šå¤šï¼Œè¿™ä¸ªä¸»é¢˜å°±è¶Šæœ‰æ„ä¹‰ã€‚ä»æ ¹æœ¬ä¸Šæ¥è¯´ï¼Œå®ƒæ˜¯å›´ç»•ä¸€ä¸ªè§„åˆ™è¿è¡Œçš„:å¦‚æœæ•°ç»„çš„ç»´åº¦åŒ¹é…ï¼Œæˆ–è€…å¦‚æœå…¶ä¸­ä¸€ä¸ªæ•°ç»„çš„å¤§å°ä¸º`1`ï¼Œé‚£ä¹ˆæ•°ç»„å¯ä»¥ç›¸äº’å¹¿æ’­ã€‚

å¦‚æœæ•°ç»„åœ¨ä¸€ä¸ªè½´ä¸Šçš„å¤§å°åŒ¹é…ï¼Œé‚£ä¹ˆå…ƒç´ å°†è¢«é€ä¸ªå…ƒç´ åœ°æ“ä½œï¼Œç±»ä¼¼äºå†…ç½®çš„ Python å‡½æ•° [`zip()`](https://realpython.com/python-zip-function/) çš„å·¥ä½œæ–¹å¼ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªæ•°ç»„åœ¨ä¸€ä¸ªè½´ä¸Šçš„å¤§å°ä¸º`1`ï¼Œé‚£ä¹ˆè¯¥å€¼å°†æ²¿ç€è¯¥è½´**ä¼ æ’­**ï¼Œæˆ–è€…æ ¹æ®éœ€è¦å¤åˆ¶å¤šæ¬¡ï¼Œä»¥åŒ¹é…å¦ä¸€ä¸ªæ•°ç»„ä¸­æ²¿ç€è¯¥è½´çš„å…ƒç´ æ•°é‡ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚æ•°ç»„`A`å…·æœ‰å½¢çŠ¶`(4, 1, 8)`ï¼Œæ•°ç»„`B`å…·æœ‰å½¢çŠ¶`(1, 6, 8)`ã€‚æ ¹æ®ä¸Šè¿°è§„åˆ™ï¼Œæ‚¨å¯ä»¥ä¸€èµ·æ“ä½œè¿™äº›é˜µåˆ—:

*   åœ¨ 0 è½´ï¼Œ`A`æœ‰ä¸€ä¸ª`4`,`B`æœ‰ä¸€ä¸ª`1`ï¼Œæ‰€ä»¥`B`å¯ä»¥æ²¿ç€é‚£ä¸ªè½´æ’­å‡ºã€‚
*   åœ¨è½´ 1 ä¸­ï¼Œ`A`çš„å€¼ä¸º 1ï¼Œ`B`çš„å€¼ä¸º 6ï¼Œå› æ­¤`A`å¯ä»¥æ²¿è¯¥è½´å¹¿æ’­ã€‚
*   åœ¨ axis 2 ä¸­ï¼Œä¸¤ä¸ªæ•°ç»„å…·æœ‰åŒ¹é…çš„å¤§å°ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥æˆåŠŸæ“ä½œã€‚

æ‰€æœ‰ä¸‰ä¸ªè½´éƒ½æˆåŠŸéµå¾ªè¯¥è§„åˆ™ã€‚

æ‚¨å¯ä»¥åƒè¿™æ ·è®¾ç½®é˜µåˆ—:

>>>

```py
In [1]: import numpy as np

In [2]: A = np.arange(32).reshape(4, 1, 8)

In [3]: A
Out[3]:
array([[[ 0,  1,  2,  3,  4,  5,  6,  7]],

 [[ 8,  9, 10, 11, 12, 13, 14, 15]],

 [[16, 17, 18, 19, 20, 21, 22, 23]],

 [[24, 25, 26, 27, 28, 29, 30, 31]]])

In [4]: B = np.arange(48).reshape(1, 6, 8)

In [5]: B
Out[5]:
array([[[ 0,  1,  2,  3,  4,  5,  6,  7],
 [ 8,  9, 10, 11, 12, 13, 14, 15],
 [16, 17, 18, 19, 20, 21, 22, 23],
 [24, 25, 26, 27, 28, 29, 30, 31],
 [32, 33, 34, 35, 36, 37, 38, 39],
 [40, 41, 42, 43, 44, 45, 46, 47]]])
```

`A`æœ‰`4`ä¸ªå¹³é¢ï¼Œæ¯ä¸ªå¹³é¢æœ‰`1`è¡Œå’Œ`8`åˆ—ã€‚`B`åªæœ‰å¸¦`6`è¡Œå’Œ`8`åˆ—çš„`1`å¹³é¢ã€‚å½“ä½ è¯•å›¾åœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œè®¡ç®—æ—¶ï¼Œçœ‹çœ‹ NumPy ä¸ºä½ åšäº†ä»€ä¹ˆï¼

å°†ä¸¤ä¸ªæ•°ç»„ç›¸åŠ :

>>>

```py
In [7]: A + B
Out[7]:
array([[[ 0,  2,  4,  6,  8, 10, 12, 14],
 [ 8, 10, 12, 14, 16, 18, 20, 22],
 [16, 18, 20, 22, 24, 26, 28, 30],
 [24, 26, 28, 30, 32, 34, 36, 38],
 [32, 34, 36, 38, 40, 42, 44, 46],
 [40, 42, 44, 46, 48, 50, 52, 54]],

 [[ 8, 10, 12, 14, 16, 18, 20, 22],
 [16, 18, 20, 22, 24, 26, 28, 30],
 [24, 26, 28, 30, 32, 34, 36, 38],
 [32, 34, 36, 38, 40, 42, 44, 46],
 [40, 42, 44, 46, 48, 50, 52, 54],
 [48, 50, 52, 54, 56, 58, 60, 62]],

 [[16, 18, 20, 22, 24, 26, 28, 30],
 [24, 26, 28, 30, 32, 34, 36, 38],
 [32, 34, 36, 38, 40, 42, 44, 46],
 [40, 42, 44, 46, 48, 50, 52, 54],
 [48, 50, 52, 54, 56, 58, 60, 62],
 [56, 58, 60, 62, 64, 66, 68, 70]],

 [[24, 26, 28, 30, 32, 34, 36, 38],
 [32, 34, 36, 38, 40, 42, 44, 46],
 [40, 42, 44, 46, 48, 50, 52, 54],
 [48, 50, 52, 54, 56, 58, 60, 62],
 [56, 58, 60, 62, 64, 66, 68, 70],
 [64, 66, 68, 70, 72, 74, 76, 78]]])
```

å¹¿æ’­çš„å·¥ä½œæ–¹å¼æ˜¯ NumPy å°†`B`ä¸­çš„é£æœºå¤åˆ¶ä¸‰æ¬¡ï¼Œè¿™æ ·ä½ æ€»å…±æœ‰å››æ¶ï¼Œä¸`A`ä¸­çš„é£æœºæ•°é‡ç›¸åŒ¹é…ã€‚å®ƒè¿˜å°†`A`ä¸­çš„å•è¡Œå¤åˆ¶äº”æ¬¡ï¼Œæ€»å…±å…­è¡Œï¼Œä¸`B`ä¸­çš„è¡Œæ•°ç›¸åŒ¹é…ã€‚ç„¶åï¼Œå®ƒå°†æ–°æ‰©å±•çš„`A`æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ·»åŠ åˆ°`B`ä¸­ç›¸åŒä½ç½®çš„å¯¹åº”å…ƒç´ ä¸­ã€‚æ¯ä¸ªè®¡ç®—çš„ç»“æœéƒ½æ˜¾ç¤ºåœ¨è¾“å‡ºçš„ç›¸åº”ä½ç½®ã€‚

**æ³¨æ„:**è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ [`arange()`](https://realpython.com/how-to-use-numpy-arange/) ä»ä¸€ä¸ªèŒƒå›´åˆ›å»ºæ•°ç»„çš„å¥½æ–¹æ³•ï¼

åŒæ ·ï¼Œå°½ç®¡æ‚¨å¯ä»¥ä½¿ç”¨â€œå¹³é¢â€ã€â€œè¡Œâ€å’Œâ€œåˆ—â€è¿™æ ·çš„è¯æ¥æè¿°æœ¬ä¾‹ä¸­çš„å½¢çŠ¶æ˜¯å¦‚ä½•ä¼ æ’­ä»¥åˆ›å»ºåŒ¹é…çš„ä¸‰ç»´å½¢çŠ¶çš„ï¼Œä½†åœ¨æ›´é«˜çš„ç»´åº¦ä¸Šï¼Œäº‹æƒ…ä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚å¾ˆå¤šæ—¶å€™ï¼Œä½ å¿…é¡»ç®€å•åœ°éµå¾ªå¹¿æ’­è§„åˆ™ï¼Œå¹¶åšå¤§é‡çš„æ‰“å°è¾“å‡ºï¼Œä»¥ç¡®ä¿äº‹æƒ…æŒ‰è®¡åˆ’è¿›è¡Œã€‚

ç†è§£å¹¿æ’­æ˜¯æŒæ¡çŸ¢é‡åŒ–è®¡ç®—çš„é‡è¦éƒ¨åˆ†ï¼Œè€ŒçŸ¢é‡åŒ–è®¡ç®—æ˜¯ç¼–å†™å¹²å‡€ã€æƒ¯ç”¨çš„ NumPy ä»£ç çš„æ–¹æ³•ã€‚

[*Remove ads*](/account/join/)

## æ•°æ®ç§‘å­¦æ“ä½œ:è¿‡æ»¤ã€æ’åºã€èšåˆ

è¿™å°±ç»“æŸäº†è¿™ä¸€éƒ¨åˆ†ï¼Œå®ƒç†è®ºä¸Šå¾ˆé‡ï¼Œä½†å®é™…çš„ã€çœŸå®ä¸–ç•Œçš„ä¾‹å­å´å¾ˆå°‘ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæ‚¨å°†å­¦ä¹ ä¸€äº›çœŸå®ã€æœ‰ç”¨çš„æ•°æ®ç§‘å­¦æ“ä½œç¤ºä¾‹:è¿‡æ»¤ã€æ’åºå’Œèšåˆæ•°æ®ã€‚

### ç´¢å¼•

ç´¢å¼•ä½¿ç”¨äº†è®¸å¤šæ™®é€š Python ä»£ç ä½¿ç”¨çš„ä¹ æƒ¯ç”¨æ³•ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ­£æˆ–è´Ÿç´¢å¼•ä»æ•°ç»„çš„å‰é¢æˆ–åé¢è¿›è¡Œç´¢å¼•ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å†’å·(`:`)æ¥æŒ‡å®šâ€œå…¶ä½™â€æˆ–â€œå…¨éƒ¨â€ï¼Œç”šè‡³å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå†’å·æ¥è·³è¿‡å¸¸è§„ Python åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚

åŒºåˆ«åœ¨äº:NumPy æ•°ç»„åœ¨è½´ä¹‹é—´ä½¿ç”¨é€—å·ï¼Œå› æ­¤æ‚¨å¯ä»¥åœ¨ä¸€ç»„æ–¹æ‹¬å·ä¸­ç´¢å¼•å¤šä¸ªè½´ã€‚ä¸€ä¸ªä¾‹å­æ˜¯å±•ç¤ºè¿™ä¸€ç‚¹æœ€ç®€å•çš„æ–¹æ³•ã€‚æ˜¯æ—¶å€™ç¡®è®¤[ä¸¢å‹’çš„é­”æ–¹](https://en.wikipedia.org/wiki/Magic_square#Albrecht_D%C3%BCrer's_magic_square)äº†ï¼

ä¸‹é¢çš„æ•°å­—æ–¹å—æœ‰ä¸€äº›æƒŠäººçš„ç‰¹æ€§ã€‚å¦‚æœä½ æŠŠä»»ä½•è¡Œã€åˆ—æˆ–å¯¹è§’çº¿åŠ èµ·æ¥ï¼Œä½ ä¼šå¾—åˆ°åŒæ ·çš„æ•°å­—ï¼Œ34ã€‚è¿™ä¹Ÿæ˜¯ä½ å°†æ‰€åŒ…å«çš„ 3 Ã— 3 ç½‘æ ¼çš„å››ä¸ªè±¡é™ã€ä¸­å¿ƒå››ä¸ªæ­£æ–¹å½¢ã€å››ä¸ªè§’æ­£æ–¹å½¢æˆ–å››ä¸ªè§’æ­£æ–¹å½¢ç›¸åŠ å¾—åˆ°çš„ç»“æœã€‚ä½ è¦è¯æ˜è¿™ä¸€ç‚¹ï¼

**è¶£é—»:**åœ¨æœ€ä¸‹é¢ä¸€æ’ï¼Œæ•°å­— 15 å’Œ 14 åœ¨ä¸­é—´ï¼Œä»£è¡¨ç€ä¸¢å‹’åˆ›å»ºè¿™ä¸ªæ­£æ–¹å½¢çš„å¹´ä»½ã€‚æ•°å­— 1 å’Œ 4 ä¹Ÿåœ¨é‚£ä¸€è¡Œï¼Œåˆ†åˆ«ä»£è¡¨å­—æ¯è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå’Œç¬¬å››ä¸ªå­—æ¯ A å’Œ Dï¼Œè¿™æ˜¯æ­£æ–¹å½¢çš„åˆ›é€ è€…é˜¿å°”å¸ƒé›·ç‰¹Â·ä¸¢å‹’çš„é¦–å­—æ¯ç¼©å†™ã€‚

åœ¨ REPL ä¸­è¾“å…¥ä»¥ä¸‹ä¿¡æ¯:

>>>

```py
In [1]: import numpy as np

In [2]: square = np.array([
 ...:    [16, 3, 2, 13],
 ...:    [5, 10, 11, 8],
 ...:    [9, 6, 7, 12],
 ...:    [4, 15, 14, 1]
 ...: ])

In [3]: for i in range(4):
 ...:    assert square[:, i].sum() == 34
 ...:    assert square[i, :].sum() == 34
 ...:

In [4]: assert square[:2, :2].sum() == 34

In [5]: assert square[2:, :2].sum() == 34

In [6]: assert square[:2, 2:].sum() == 34

In [7]: assert square[2:, 2:].sum() == 34
```

åœ¨`for`å¾ªç¯ä¸­ï¼Œæ‚¨éªŒè¯æ‰€æœ‰çš„è¡Œå’Œæ‰€æœ‰çš„åˆ—åŠ èµ·æ¥æ˜¯ 34ã€‚ä¹‹åï¼Œä½¿ç”¨é€‰æ‹©æ€§ç´¢å¼•ï¼ŒéªŒè¯æ¯ä¸ªè±¡é™åŠ èµ·æ¥ä¹Ÿæ˜¯ 34ã€‚

æœ€åè¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œæ‚¨å¯ä»¥ç”¨`square.sum()`å¯¹ä»»ä½•æ•°ç»„æ±‚å’Œï¼Œä»è€Œå…¨å±€åœ°å°†å®ƒçš„æ‰€æœ‰å…ƒç´ ç›¸åŠ ã€‚è¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ª`axis`å‚æ•°æ¥è¿›è¡Œè½´å‘æ±‚å’Œã€‚

### å±è”½å’Œè¿‡æ»¤

åŸºäºç´¢å¼•çš„é€‰æ‹©å¾ˆå¥½ï¼Œä½†æ˜¯å¦‚æœæ‚¨æƒ³åŸºäºæ›´å¤æ‚çš„éä¸€è‡´æˆ–éé¡ºåºæ ‡å‡†æ¥è¿‡æ»¤æ•°æ®ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™å°±æ˜¯**æ©æ¨¡**å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚

æ©ç æ˜¯ä¸€ä¸ªä¸ä½ çš„æ•°æ®å½¢çŠ¶å®Œå…¨ç›¸åŒçš„æ•°ç»„ï¼Œä½†æ˜¯å®ƒä¿å­˜çš„ä¸æ˜¯ä½ çš„å€¼ï¼Œè€Œæ˜¯[å¸ƒå°”å€¼](https://realpython.com/python-boolean/):æˆ–è€…`True`æˆ–è€…`False`ã€‚æ‚¨å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ©ç æ•°ç»„ä»¥éçº¿æ€§å’Œå¤æ‚çš„æ–¹å¼ç´¢å¼•åˆ°æ•°æ®æ•°ç»„ä¸­ã€‚å®ƒå°†è¿”å›å¸ƒå°”æ•°ç»„ä¸­æœ‰ä¸€ä¸ª`True`å€¼çš„æ‰€æœ‰å…ƒç´ ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªå±•ç¤ºè¿™ä¸ªè¿‡ç¨‹çš„ä¾‹å­ï¼Œé¦–å…ˆæ˜¯æ…¢åŠ¨ä½œï¼Œç„¶åæ˜¯å®ƒé€šå¸¸æ˜¯å¦‚ä½•å®Œæˆçš„ï¼Œéƒ½åœ¨ä¸€è¡Œä¸­:

>>>

```py
In [1]: import numpy as np

In [2]: numbers = np.linspace(5, 50, 24, dtype=int).reshape(4, -1)

In [3]: numbers
Out[3]:
array([[ 5, 6,  8, 10, 12, 14],
 [16, 18, 20, 22, 24, 26],
 [28, 30, 32, 34, 36, 38],
 [40, 42, 44, 46, 48, 50]])

In [4]: mask = numbers % 4 == 0

In [5]: mask
Out[5]:
array([[False, False,  True, False,  True, False],
 [ True, False,  True, False,  True, False],
 [ True, False,  True, False,  True, False],
 [ True, False,  True, False,  True, False]])

In [6]: numbers[mask]
Out[6]: array([ 8, 12, 16, 20, 24, 28, 32, 36, 40, 44, 48])

In [7]: by_four = numbers[numbers % 4 == 0]

In [8]: by_four
Out[8]: array([ 8, 12, 16, 20, 24, 28, 32, 36, 40, 44, 48])
```

ç¨åï¼Œæ‚¨å°†åœ¨ input 2 ä¸­çœ‹åˆ°å¯¹æ–°çš„æ•°ç»„åˆ›å»ºæŠ€å·§çš„è§£é‡Šï¼Œä½†æ˜¯ç°åœ¨ï¼Œè¯·å°†é‡ç‚¹æ”¾åœ¨ç¤ºä¾‹çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚è¿™äº›æ˜¯é‡è¦çš„éƒ¨åˆ†:

*   **è¾“å…¥ 4** é€šè¿‡æ‰§è¡Œ**çŸ¢é‡åŒ–å¸ƒå°”è¿ç®—**æ¥åˆ›å»ºé®ç½©ï¼Œè·å–æ¯ä¸ªå…ƒç´ å¹¶æ£€æŸ¥å®ƒæ˜¯å¦è¢« 4 æ•´é™¤ã€‚è¿™å°†è¿”å›ä¸€ä¸ªå…·æœ‰ç›¸åŒå½¢çŠ¶çš„æ©ç æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«è®¡ç®—çš„é€å…ƒç´ ç»“æœã€‚
*   **è¾“å…¥ 6** ä½¿ç”¨è¿™ä¸ªæ©ç æ¥ç´¢å¼•åŸå§‹çš„`numbers`æ•°ç»„ã€‚è¿™å°†å¯¼è‡´æ•°ç»„å¤±å»å…¶åŸæ¥çš„å½¢çŠ¶ï¼Œå‡å°‘åˆ°ä¸€ç»´ï¼Œä½†æ‚¨ä»ç„¶å¯ä»¥è·å¾—æ‚¨æ­£åœ¨å¯»æ‰¾çš„æ•°æ®ã€‚
*   **Input 7** æä¾›äº†ä¸€ä¸ªæ›´ä¼ ç»Ÿã€æƒ¯ç”¨çš„å±è”½é€‰æ‹©ï¼Œæ‚¨å¯èƒ½ä¼šåœ¨é‡å¤–çœ‹åˆ°ï¼Œåœ¨é€‰æ‹©æ‹¬å·å†…å†…åµŒåˆ›å»ºäº†ä¸€ä¸ªåŒ¿åè¿‡æ»¤æ•°ç»„ã€‚è¿™ç§è¯­æ³•ç±»ä¼¼äº R ç¼–ç¨‹è¯­è¨€ä¸­çš„ç”¨æ³•ã€‚

å›åˆ°è¾“å…¥ 2ï¼Œæ‚¨ä¼šé‡åˆ°ä¸‰ä¸ªæ–°æ¦‚å¿µ:

1.  ä½¿ç”¨ [`np.linspace()`](https://realpython.com/np-linspace-numpy/) ç”Ÿæˆä¸€ä¸ªå‡åŒ€åˆ†å¸ƒçš„æ•°ç»„
2.  è®¾ç½®è¾“å‡ºçš„`dtype`
3.  ç”¨`-1`é‡å¡‘æ•°ç»„

[`np.linspace()`](https://numpy.org/doc/stable/reference/generated/numpy.linspace.html) ç”Ÿæˆåœ¨æœ€å°å€¼å’Œæœ€å¤§å€¼ä¹‹é—´å‡åŒ€åˆ†å¸ƒçš„ *n* æ•°ï¼Œè¿™å¯¹ç§‘å­¦ç»˜å›¾ä¸­çš„å‡åŒ€åˆ†å¸ƒé‡‡æ ·å¾ˆæœ‰ç”¨ã€‚

ç”±äºè¿™ä¸ªä¾‹å­ä¸­çš„ç‰¹æ®Šè®¡ç®—ï¼Œåœ¨`numbers`æ•°ç»„ä¸­æœ‰[ä¸ªæ•´æ•°](https://realpython.com/python-numbers/#integers)ä¼šæ›´å®¹æ˜“ã€‚ä½†æ˜¯å› ä¸º 5 å’Œ 50 ä¹‹é—´çš„ç©ºé—´ä¸èƒ½è¢« 24 æ•´é™¤ï¼Œæ‰€ä»¥å¾—åˆ°çš„æ•°å­—å°†æ˜¯[æµ®ç‚¹æ•°](https://realpython.com/python-numbers/#floating-point-numbers)ã€‚æ‚¨æŒ‡å®šä¸€ä¸ª`int`çš„`dtype`æ¥å¼ºåˆ¶å‡½æ•°å‘ä¸‹èˆå…¥å¹¶ç»™å‡ºæ•´æ•°ã€‚ç¨åæ‚¨å°†çœ‹åˆ°å…³äºæ•°æ®ç±»å‹çš„æ›´è¯¦ç»†çš„è®¨è®ºã€‚

æœ€åï¼Œ`array.reshape()`å¯ä»¥æŠŠ`-1`ä½œä¸ºå®ƒçš„ç»´åº¦å¤§å°ä¹‹ä¸€ã€‚è¿™æ„å‘³ç€ NumPy åº”è¯¥æ ¹æ®å…¶ä»–è½´çš„å¤§å°è®¡ç®—å‡ºç‰¹å®šè½´éœ€è¦å¤šå¤§ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ0 è½´ä¸Šçš„`24`å€¼å’Œå¤§å°ä¸º`4`ï¼Œ1 è½´çš„å¤§å°ä¸º`6`ã€‚

è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªå±•ç¤ºå±è”½è¿‡æ»¤èƒ½åŠ›çš„ä¾‹å­ã€‚[æ­£æ€åˆ†å¸ƒ](https://en.wikipedia.org/wiki/Normal_distribution)æ˜¯ä¸€ç§æ¦‚ç‡åˆ†å¸ƒï¼Œå…¶ä¸­å¤§çº¦ 95.45%çš„å€¼å‡ºç°åœ¨å¹³å‡å€¼çš„ä¸¤ä¸ª[æ ‡å‡†åå·®](https://en.wikipedia.org/wiki/Standard_deviation)å†…ã€‚

ä½ å¯ä»¥é€šè¿‡ NumPy çš„`random`æ¨¡å—ç”Ÿæˆ[éšæœº](https://realpython.com/python-random/)å€¼æ¥éªŒè¯è¿™ä¸€ç‚¹:

>>>

```py
In [1]: import numpy as np

In [2]: from numpy.random import default_rng

In [3]: rng = default_rng()

In [4]: values = rng.standard_normal(10000)

In [5]: values[:5]
Out[5]: array([ .9779210858,  1.8361585253,  -.3641365235,
 -.1311344527, 1.286542056 ])

In [6]: std = values.std()

In [7]: std
Out[7]: .9940375551073492

In [8]: filtered = values[(values > -2 * std) & (values < 2 * std)]

In [9]: filtered.size
Out[9]: 9565

In [10]: values.size
Out[10]: 10000

In [11]: filtered.size / values.size
Out[11]: 0.9565
```

è¿™é‡Œæ‚¨ä½¿ç”¨äº†ä¸€ä¸ªçœ‹èµ·æ¥å¯èƒ½å¾ˆå¥‡æ€ªçš„è¯­æ³•æ¥ç»„åˆè¿‡æ»¤æ¡ä»¶:ä¸€ä¸ª**äºŒå…ƒ`&`æ“ä½œç¬¦**ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿè¿™æ˜¯å› ä¸º NumPy å°†`&`å’Œ`|`æŒ‡å®šä¸ºçŸ¢é‡åŒ–çš„ã€åŸºäºå…ƒç´ çš„è¿ç®—ç¬¦æ¥ç»„åˆå¸ƒå°”å€¼ã€‚å¦‚æœä½ å°è¯•åš`A and B`ï¼Œé‚£ä¹ˆä½ ä¼šå¾—åˆ°ä¸€ä¸ªè­¦å‘Šï¼Œå‘Šè¯‰ä½ ä¸€ä¸ªæ•°ç»„çš„çœŸå€¼æ˜¯å¤šä¹ˆå¥‡æ€ªï¼Œå› ä¸º`and`æ˜¯å¯¹æ•´ä¸ªæ•°ç»„çš„çœŸå€¼è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå…ƒç´ æ¥ä¸€ä¸ªå…ƒç´ ã€‚

[*Remove ads*](/account/join/)

### ç§»è°ƒã€æ’åºå’Œè¿æ¥

å…¶ä»–æ“ä½œè™½ç„¶ä¸åƒç´¢å¼•æˆ–è¿‡æ»¤é‚£æ ·å¸¸è§ï¼Œä½†æ ¹æ®æ‚¨æ‰€å¤„çš„æƒ…å†µï¼Œä¹Ÿéå¸¸æ–¹ä¾¿ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€äº›ä¾‹å­ã€‚

è¿™é‡Œæ˜¯**è½¬ç½®**ä¸€ä¸ªæ•°ç»„:

>>>

```py
In [1]: import numpy as np

In [2]: a = np.array([
 ...:    [1, 2],
 ...:    [3, 4],
 ...:    [5, 6],
 ...: ])

In [3]: a.T
Out[3]:
array([[1, 3, 5],
 [2, 4, 6]])

In [4]: a.transpose()
Out[4]:
array([[1, 3, 5],
 [2, 4, 6]])
```

å½“ä½ è®¡ç®—ä¸€ä¸ªæ•°ç»„çš„è½¬ç½®æ—¶ï¼Œæ¯ä¸ªå…ƒç´ çš„è¡Œå’Œåˆ—çš„ç´¢å¼•éƒ½ä¼šè¢«äº¤æ¢ã€‚ä¾‹å¦‚ï¼Œé¡¹ç›®`[0, 2]`å˜æˆé¡¹ç›®`[2, 0]`ã€‚ä½ ä¹Ÿå¯ä»¥ç”¨`a.T`ä½œä¸º`a.transpose()`çš„åˆ«åã€‚

ä¸‹é¢çš„ä»£ç å—æ˜¾ç¤ºäº†[æ’åº](https://realpython.com/sorting-algorithms-python/)ï¼Œä½†æ˜¯åœ¨ä¸‹ä¸€èŠ‚å…³äºç»“æ„åŒ–æ•°æ®çš„å†…å®¹ä¸­ï¼Œæ‚¨è¿˜ä¼šçœ‹åˆ°ä¸€ç§æ›´å¼ºå¤§çš„æ’åºæŠ€æœ¯:

>>>

```py
In [1]: import numpy as np

In [2]: data = np.array([
 ...:    [7, 1, 4],
 ...:    [8, 6, 5],
 ...:    [1, 2, 3]
 ...: ])

In [3]: np.sort(data)
Out[3]:
array([[1, 4, 7],
 [5, 6, 8],
 [1, 2, 3]])

In [4]: np.sort(data, axis=None)
Out[4]: array([1, 1, 2, 3, 4, 5, 6, 7, 8])

In [5]: np.sort(data, axis=0)
Out[5]:
array([[1, 1, 3],
 [7, 2, 4],
 [8, 6, 5]])
```

çœç•¥`axis`å‚æ•°ä¼šè‡ªåŠ¨é€‰æ‹©æœ€åä¸€ä¸ªä¹Ÿæ˜¯æœ€é‡Œé¢çš„ç»´åº¦ï¼Œå³æœ¬ä¾‹ä¸­çš„è¡Œã€‚ä½¿ç”¨`None`å±•å¹³æ•°ç»„å¹¶æ‰§è¡Œå…¨å±€æ’åºã€‚å¦åˆ™ï¼Œæ‚¨å¯ä»¥æŒ‡å®šæƒ³è¦çš„è½´ã€‚åœ¨è¾“å‡º 5 ä¸­ï¼Œæ•°ç»„çš„æ¯ä¸€åˆ—ä»ç„¶æœ‰å®ƒçš„æ‰€æœ‰å…ƒç´ ï¼Œä½†æ˜¯å®ƒä»¬åœ¨è¯¥åˆ—ä¸­ä»ä½åˆ°é«˜æ’åºã€‚

æœ€åï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª**ä¸²è”**çš„ä¾‹å­ã€‚è™½ç„¶æœ‰ä¸€ä¸ª`np.concatenate()`å‡½æ•°ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›[è¾…åŠ©å‡½æ•°](https://numpy.org/doc/stable/reference/generated/numpy.concatenate.html)ï¼Œå®ƒä»¬æœ‰æ—¶æ›´å®¹æ˜“é˜…è¯»ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›ä¾‹å­:

>>>

```py
In [1]: import numpy as np

In [2]: a = np.array([
 ...:    [4, 8],
 ...:    [6, 1]
 ...: ])

In [3]: b = np.array([
 ...:    [3, 5],
 ...:    [7, 2],
 ...: ])

In [4]: np.hstack((a, b))
Out[4]:
array([[4, 8, 3, 5],
 [6, 1, 7, 2]])

In [5]: np.vstack((b, a))
Out[5]:
array([[3, 5],
 [7, 2],
 [4, 8],
 [6, 1]])

In [6]: np.concatenate((a, b))
Out[6]:
array([[4, 8],
 [6, 1],
 [3, 5],
 [7, 2]])

In [7]: np.concatenate((a, b), axis=None)
Out[7]: array([4, 8, 6, 1, 3, 5, 7, 2])
```

è¾“å…¥ 4 å’Œ 5 æ˜¾ç¤ºäº†ç¨å¾®ç›´è§‚ä¸€äº›çš„åŠŸèƒ½`hstack()`å’Œ`vstack()`ã€‚è¾“å…¥ 6 å’Œ 7 æ˜¾ç¤ºäº†æ›´é€šç”¨çš„`concatenate()`ï¼Œé¦–å…ˆæ²¡æœ‰`axis`å‚æ•°ï¼Œç„¶åæœ‰`axis=None`ã€‚è¿™ç§æ‰å¹³åŒ–è¡Œä¸ºåœ¨å½¢å¼ä¸Šç±»ä¼¼äºä½ åˆšåˆšçœ‹åˆ°çš„`sort()`ã€‚

éœ€è¦æ³¨æ„çš„ä¸€ä¸ªé‡è¦éšœç¢æ˜¯ï¼Œæ‰€æœ‰è¿™äº›å‡½æ•°éƒ½å°†æ•°ç»„å…ƒç»„ä½œä¸ºå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œä¸æ˜¯æ‚¨å¯èƒ½æœŸæœ›çš„å¯å˜æ•°é‡çš„å‚æ•°ã€‚ä½ èƒ½çœ‹å‡ºæ¥æ˜¯å› ä¸ºå¤šäº†ä¸€å¯¹æ‹¬å·ã€‚

### èšé›†

åœ¨æ·±å…¥ä¸€äº›æ›´é«˜çº§çš„ä¸»é¢˜å’Œä¾‹å­ä¹‹å‰ï¼Œè¿™æ¬¡åŠŸèƒ½ä¹‹æ—…çš„æœ€åä¸€ç«™æ˜¯**èšåˆ**ã€‚ä½ å·²ç»çœ‹åˆ°äº†å¾ˆå¤šèšåˆæ–¹æ³•ï¼ŒåŒ…æ‹¬`.sum()`ã€`.max()`ã€`.mean()`å’Œ`.std()`ã€‚ä½ å¯ä»¥å‚è€ƒ NumPy æ›´å¤§çš„[å‡½æ•°åº“](https://numpy.org/doc/stable/reference/routines.html)æ¥äº†è§£æ›´å¤šã€‚è®¸å¤šæ•°å­¦ã€é‡‘èå’Œç»Ÿè®¡å‡½æ•°ä½¿ç”¨èšåˆæ¥å¸®åŠ©æ‚¨å‡å°‘æ•°æ®ä¸­çš„ç»´æ•°ã€‚

## å®è·µç¤ºä¾‹ 1:å®ç° Maclaurin ç³»åˆ—

ç°åœ¨æ˜¯æ—¶å€™æ¥çœ‹çœ‹ä¸Šé¢å‡ èŠ‚ä¸­ä»‹ç»çš„æŠ€å·§çš„å®é™…ç”¨ä¾‹äº†:å®ç°ä¸€ä¸ªç­‰å¼ã€‚

åœ¨æ²¡æœ‰ NumPy çš„æƒ…å†µä¸‹ï¼Œå°†æ•°å­¦æ–¹ç¨‹è½¬æ¢ä¸ºä»£ç æœ€å›°éš¾çš„äº‹æƒ…ä¹‹ä¸€æ˜¯ï¼Œè®¸å¤šè§†è§‰ä¸Šçš„ç›¸ä¼¼æ€§éƒ½ä¸¢å¤±äº†ï¼Œè¿™ä½¿å¾—åœ¨é˜…è¯»ä»£ç æ—¶å¾ˆéš¾åˆ†è¾¨å‡ºä½ åœ¨çœ‹æ–¹ç¨‹çš„å“ªä¸€éƒ¨åˆ†ã€‚æ±‚å’Œè¢«è½¬æ¢æˆæ›´å†—é•¿çš„`for`å¾ªç¯ï¼Œæé™ä¼˜åŒ–æœ€ç»ˆçœ‹èµ·æ¥åƒ [`while`å¾ªç¯](https://realpython.com/python-while-loop/)ã€‚

ä½¿ç”¨ NumPy å¯ä»¥è®©æ‚¨æ›´æ¥è¿‘ä»ç­‰å¼åˆ°ä»£ç çš„ä¸€å¯¹ä¸€è¡¨ç¤ºã€‚

åœ¨ä¸‹ä¸€ä¸ªä¾‹å­ä¸­ï¼Œæ‚¨å°†å¯¹*e*<sup>T5ã€‘x</sup>çš„ [Maclaurin ç³»åˆ—](https://mathworld.wolfram.com/MaclaurinSeries.html)è¿›è¡Œç¼–ç ã€‚Maclaurin çº§æ•°æ˜¯ä¸€ç§ç”¨ä»¥é›¶ä¸ºä¸­å¿ƒçš„æ— ç©·çº§æ•°æ±‚å’Œé¡¹æ¥é€¼è¿‘æ›´å¤æ‚å‡½æ•°çš„æ–¹æ³•ã€‚

å¯¹äº *e* <sup>*x*</sup> ï¼Œé©¬å…‹åŠ³æ—çº§æ•°æ˜¯å¦‚ä¸‹æ±‚å’Œ:

[![The equation for the Maclauren series for e^x.](img/e2d5001c4b8171a50376cd9fcd18d059.png)](https://files.realpython.com/media/e-x-maclauren.0d23c5b15404.png)

ä½ æŠŠä»é›¶å¼€å§‹çš„é¡¹åŠ èµ·æ¥ï¼Œç†è®ºä¸Šä¸€ç›´åˆ°æ— ç©·å¤§ã€‚æ¯ç¬¬ *n* é¡¹å°†è¢« *x* æé«˜åˆ° *n* å†é™¤ä»¥ *n* ï¼ï¼Œè¿™æ˜¯[é˜¶ä¹˜](https://en.wikipedia.org/wiki/Factorial)è¿ç®—çš„ç¬¦å·ã€‚

ç°åœ¨æ˜¯æ—¶å€™æŠŠå®ƒæ”¾åˆ° NumPy ä»£ç ä¸­äº†ã€‚åˆ›å»ºä¸€ä¸ªåä¸º`maclaurin.py`çš„æ–‡ä»¶:

```py
from math import e, factorial

import numpy as np

fac = np.vectorize(factorial)

def e_x(x, terms=10):
    """Approximates e^x using a given number of terms of
 the Maclaurin series
 """
    n = np.arange(terms)
    return np.sum((x ** n) / fac(n))

if __name__ == "__main__":
    print("Actual:", e ** 3)  # Using e from the standard library

    print("N (terms)\tMaclaurin\tError")

    for n in range(1, 14):
        maclaurin = e_x(3, terms=n)
        print(f"{n}\t\t{maclaurin:.03f}\t\t{e**3 - maclaurin:.03f}")
```

è¿è¡Œæ­¤å‘½ä»¤æ—¶ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ä»¥ä¸‹ç»“æœ:

```py
$ python3 maclaurin.py
Actual: 20.085536923187664
N (terms) Maclaurin Error
1         1.000     19.086
2         4.000     16.086
3         8.500     11.586
4        13.000      7.086
5        16.375      3.711
6        18.400      1.686
7        19.412      0.673
8        19.846      0.239
9        20.009      0.076
10       20.063      0.022
11       20.080      0.006
12       20.084      0.001
13       20.085      0.000
```

éšç€é¡¹æ•°çš„å¢åŠ ï¼Œä½ çš„ Maclaurin å€¼è¶Šæ¥è¶Šæ¥è¿‘å®é™…å€¼ï¼Œä½ çš„è¯¯å·®è¶Šæ¥è¶Šå°ã€‚

æ¯ä¸€é¡¹çš„è®¡ç®—éƒ½éœ€è¦å°†`x`ä¹˜ä»¥`n`çš„å¹‚ï¼Œç„¶åé™¤ä»¥`n!`ï¼Œæˆ–è€…æ˜¯`n`çš„é˜¶ä¹˜ã€‚åŠ æ³•ã€æ±‚å’Œä»¥åŠè‡ªä¹˜å¹‚éƒ½æ˜¯ NumPy å¯ä»¥è‡ªåŠ¨å¿«é€Ÿå‘é‡åŒ–çš„æ“ä½œï¼Œä½†å¯¹äº`factorial()`å´ä¸æ˜¯è¿™æ ·ã€‚

è¦åœ¨çŸ¢é‡åŒ–è®¡ç®—ä¸­ä½¿ç”¨`factorial()`ï¼Œå¿…é¡»ä½¿ç”¨ [`np.vectorize()`](https://numpy.org/doc/stable/reference/generated/numpy.vectorize.html) åˆ›å»ºçŸ¢é‡åŒ–ç‰ˆæœ¬ã€‚`np.vectorize()`çš„æ–‡æ¡£è¡¨æ˜ï¼Œå®ƒåªä¸è¿‡æ˜¯ä¸€ä¸ªå°†`for`å¾ªç¯åº”ç”¨äºç»™å®šå‡½æ•°çš„è–„è–„çš„åŒ…è£…å™¨ã€‚ä½¿ç”¨å®ƒè€Œä¸æ˜¯æ™®é€šçš„ Python ä»£ç å¹¶æ²¡æœ‰çœŸæ­£çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œè€Œä¸”å¯èƒ½ä¼šæœ‰ä¸€äº›å¼€é”€æŸå¤±ã€‚ç„¶è€Œï¼Œæ­£å¦‚æ‚¨é©¬ä¸Šä¼šçœ‹åˆ°çš„ï¼Œå¯è¯»æ€§çš„å¥½å¤„æ˜¯å·¨å¤§çš„ã€‚

ä¸€æ—¦æ‚¨çš„çŸ¢é‡åŒ–é˜¶ä¹˜å°±ç»ªï¼Œè®¡ç®—æ•´ä¸ª Maclaurin çº§æ•°çš„å®é™…ä»£ç å°±ä¼šçŸ­å¾—æƒŠäººã€‚ä¹Ÿæ˜¯å¯è¯»çš„ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œå®ƒä¸æ•°å­¦ç­‰å¼å‡ ä¹æ˜¯ä¸€ä¸€å¯¹åº”çš„:

```py
n = np.arange(terms)
return np.sum((x ** n) / fac(n))
```

è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æƒ³æ³•ï¼Œå€¼å¾—é‡å¤ä¸€éã€‚é™¤äº†åˆå§‹åŒ–`n`çš„é¢å¤–ä¸€è¡Œä¹‹å¤–ï¼Œä»£ç è¯»èµ·æ¥å‡ ä¹ä¸åŸå§‹æ•°å­¦æ–¹ç¨‹å®Œå…¨ç›¸åŒã€‚æ²¡æœ‰`for`å¾ªç¯ï¼Œæ²¡æœ‰ä¸´æ—¶çš„`i, j, k`å˜é‡ã€‚ç®€å•æ˜äº†çš„æ•°å­¦ã€‚

å°±è¿™æ ·ï¼Œä½ åœ¨ç”¨ NumPy è¿›è¡Œæ•°å­¦ç¼–ç¨‹ï¼ä¸ºäº†è¿›è¡Œé¢å¤–çš„ç»ƒä¹ ï¼Œå¯ä»¥è¯•ç€æŒ‘é€‰ä¸€ä¸ªå…¶ä»–çš„ Maclaurin ç³»åˆ—ï¼Œå¹¶ä»¥ç±»ä¼¼çš„æ–¹å¼å®ç°å®ƒã€‚

[*Remove ads*](/account/join/)

## ä¼˜åŒ–å­˜å‚¨:æ•°æ®ç±»å‹

æ—¢ç„¶æ‚¨å·²ç»æœ‰äº†æ›´å¤šçš„å®è·µç»éªŒï¼Œæ˜¯æ—¶å€™å›åˆ°ç†è®ºä¸Šæ¥çœ‹çœ‹æ•°æ®ç±»å‹äº†ã€‚åœ¨å¾ˆå¤š Python ä»£ç ä¸­ï¼Œæ•°æ®ç±»å‹å¹¶ä¸æ˜¯æ ¸å¿ƒè§’è‰²ã€‚æ•°å­—åƒå®ƒä»¬åº”è¯¥çš„é‚£æ ·å·¥ä½œï¼Œå­—ç¬¦ä¸²åšå…¶ä»–äº‹æƒ…ï¼Œå¸ƒå°”å€¼æ˜¯çœŸè¿˜æ˜¯å‡ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä½ å¯ä»¥åˆ›å»ºè‡ªå·±çš„å¯¹è±¡å’Œé›†åˆã€‚

ä¸è¿‡ï¼Œåœ¨ NumPy ä¸­ï¼Œè¿˜éœ€è¦ä»‹ç»ä¸€äº›ç»†èŠ‚ã€‚NumPy ä½¿ç”¨ C ä»£ç æ¥ä¼˜åŒ–æ€§èƒ½ï¼Œé™¤éæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯åŒä¸€ç±»å‹ï¼Œå¦åˆ™å®ƒæ— æ³•åšåˆ°è¿™ä¸€ç‚¹ã€‚è¿™ä¸ä»…ä»…æ„å‘³ç€ç›¸åŒçš„ Python ç±»å‹ã€‚å®ƒä»¬å¿…é¡»æ˜¯ç›¸åŒçš„åº•å±‚ C ç±»å‹ï¼Œå…·æœ‰ç›¸åŒçš„å½¢çŠ¶å’Œä½å¤§å°ï¼

### æ•°å€¼ç±»å‹:`int`ã€`bool`ã€`float`ã€`complex`ã€

å› ä¸ºä½ çš„å¤§éƒ¨åˆ†æ•°æ®ç§‘å­¦å’Œæ•°å€¼è®¡ç®—éƒ½ä¼šæ¶‰åŠåˆ°æ•°å­—ï¼Œæ‰€ä»¥å®ƒä»¬ä¼¼ä¹æ˜¯æœ€å¥½çš„èµ·ç‚¹ã€‚NumPy ä»£ç ä¸­åŸºæœ¬ä¸Šæœ‰å››ç§æ•°å€¼ç±»å‹ï¼Œæ¯ä¸€ç§éƒ½æœ‰ä¸åŒçš„å¤§å°ã€‚

ä¸‹è¡¨åˆ—å‡ºäº†è¿™äº›ç±»å‹çš„è¯¦ç»†ä¿¡æ¯:

| åå­— | ä½æ•° | Python ç±»å‹ | NumPy å‹ |
| --- | --- | --- | --- |
| æ•´æ•° | Sixty-four | `int` | `np.int_` |
| å¸ƒå°”è¿ç®— | eight | `bool` | `np.bool_` |
| æµ®åŠ¨ | Sixty-four | `float` | `np.float_` |
| å¤æ‚çš„ | One hundred and twenty-eight | `complex` | `np.complex_` |

è¿™äº›åªæ˜¯æ˜ å°„åˆ°ç°æœ‰ Python ç±»å‹çš„ç±»å‹ã€‚NumPy ä¹Ÿæœ‰æ›´å°ç‰ˆæœ¬çš„ç±»å‹ï¼Œå¦‚ 8 ä½ã€16 ä½å’Œ 32 ä½æ•´æ•°ã€32 ä½å•ç²¾åº¦æµ®ç‚¹æ•°å’Œ 64 ä½å•ç²¾åº¦å¤æ•°ã€‚æ–‡æ¡£å®Œæ•´åœ°åˆ—å‡ºäº†å®ƒä»¬ã€‚

è¦åœ¨åˆ›å»ºæ•°ç»„æ—¶æŒ‡å®šç±»å‹ï¼Œå¯ä»¥æä¾›ä¸€ä¸ª`dtype`å‚æ•°:

>>>

```py
In [1]: import numpy as np

In [2]: a = np.array([1, 3, 5.5, 7.7, 9.2], dtype=np.single)

In [3]: a
Out[3]: array([1\. , 3\. , 5.5, 7.7, 9.2], dtype=float32)

In [4]: b = np.array([1, 3, 5.5, 7.7, 9.2], dtype=np.uint8)

In [5]: b
Out[5]: array([1, 3, 5, 7, 9], dtype=uint8)
```

NumPy è‡ªåŠ¨å°†æ‚¨çš„å¹³å°æ— å…³ç±»å‹`np.single`è½¬æ¢æˆæ‚¨çš„å¹³å°æ”¯æŒçš„ä»»ä½•å›ºå®šå¤§å°çš„ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä½¿ç”¨`np.float32`ã€‚å¦‚æœæ‚¨æä¾›çš„å€¼ä¸æ‚¨æä¾›çš„`dtype`çš„å½¢çŠ¶ä¸åŒ¹é…ï¼Œé‚£ä¹ˆ NumPy è¦ä¹ˆä¸ºæ‚¨ä¿®å¤å®ƒï¼Œè¦ä¹ˆæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚

### å­—ç¬¦ä¸²ç±»å‹:å¤§å° Unicode

å­—ç¬¦ä¸²åœ¨ NumPy ä»£ç ä¸­çš„è¡¨ç°æœ‰ç‚¹å¥‡æ€ªï¼Œå› ä¸º NumPy éœ€è¦çŸ¥é“éœ€è¦å¤šå°‘å­—èŠ‚ï¼Œè¿™åœ¨ Python ç¼–ç¨‹ä¸­é€šå¸¸ä¸æ˜¯ä¸€ä¸ªå› ç´ ã€‚å¹¸è¿çš„æ˜¯ï¼ŒNumPy åœ¨å¤„ç†ä¸å¤ªå¤æ‚çš„æƒ…å†µæ–¹é¢åšå¾—å¾ˆå¥½:

>>>

```py
In [1]: import numpy as np

In [2]: names = np.array(["bob", "amy", "han"], dtype=str)

In [3]: names
Out[3]: array(['bob', 'amy', 'han'], dtype='<U3')

In [4]: names.itemsize
Out[4]: 12

In [5]: names = np.array(["bob", "amy", "han"])

In [6]: names
Out[6]: array(['bob', 'amy', 'han'], dtype='<U3')

In [7]: more_names = np.array(["bobo", "jehosephat"])

In [8]: np.concatenate((names, more_names))
Out[8]: array(['bob', 'amy', 'han', 'bobo', 'jehosephat'], dtype='<U10')
```

åœ¨è¾“å…¥ 2 ä¸­ï¼Œæ‚¨æä¾›äº† Python å†…ç½®çš„`str`ç±»å‹çš„`dtype`ï¼Œä½†æ˜¯åœ¨è¾“å‡º 3 ä¸­ï¼Œå®ƒè¢«è½¬æ¢æˆå¤§å°ä¸º`3`çš„**å°ç«¯** [Unicode](https://realpython.com/python-encodings-guide/) å­—ç¬¦ä¸²ã€‚å½“æ‚¨æ£€æŸ¥è¾“å…¥ 4 ä¸­ç»™å®šé¡¹ç›®çš„å¤§å°æ—¶ï¼Œæ‚¨ä¼šçœ‹åˆ°å®ƒä»¬æ¯ä¸ªéƒ½æ˜¯`12`å­—èŠ‚:ä¸‰ä¸ª 4 å­—èŠ‚çš„ Unicode å­—ç¬¦ã€‚

**æ³¨æ„:**åœ¨å¤„ç† NumPy æ•°æ®ç±»å‹æ—¶ï¼Œæ‚¨å¿…é¡»è€ƒè™‘è¯¸å¦‚å€¼çš„å­—èŠ‚é¡ºåº[ä¹‹ç±»çš„äº‹æƒ…ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`dtype` `'<U3'`æ„å‘³ç€æ¯ä¸ªå€¼çš„å¤§å°ä¸ºä¸‰ä¸ª Unicode å­—ç¬¦ï¼Œæœ€ä½æœ‰æ•ˆå­—èŠ‚é¦–å…ˆå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œæœ€é«˜æœ‰æ•ˆå­—èŠ‚æœ€åå­˜å‚¨ã€‚`'>U3'`çš„ä¸€ä¸ª`dtype`å°†æ„å‘³ç€ç›¸åçš„æƒ…å†µã€‚](https://en.wikipedia.org/wiki/Endianness)

ä¾‹å¦‚ï¼ŒNumPy è¡¨ç¤º Unicode å­—ç¬¦â€œğŸâ€œå…·æœ‰å¸¦`'<U1'`çš„`dtype`çš„å­—èŠ‚`0xF4 0x01 0x00`å’Œå¸¦`'>U1'`çš„`dtype`çš„`0x00 0x01 0xF4`ã€‚é€šè¿‡åˆ›å»ºä¸€ä¸ªå……æ»¡è¡¨æƒ…ç¬¦å·çš„æ•°ç»„ï¼Œå°†`dtype`è®¾ç½®ä¸ºä¸€ä¸ªæˆ–å¦ä¸€ä¸ªï¼Œç„¶ååœ¨æ‚¨çš„æ•°ç»„ä¸Šè°ƒç”¨`.tobytes()`æ¥å°è¯•ä¸€ä¸‹å§ï¼

å¦‚æœæ‚¨æƒ³ç ”ç©¶ Python å¦‚ä½•å¤„ç†æ™®é€š Python æ•°æ®ç±»å‹çš„ 1 å’Œ 0ï¼Œé‚£ä¹ˆ [struct åº“](https://docs.python.org/3/library/struct.html#struct-alignment)çš„å®˜æ–¹æ–‡æ¡£æ˜¯å¦ä¸€ä¸ªå¾ˆå¥½çš„èµ„æºï¼Œå®ƒæ˜¯ä¸€ä¸ªå¤„ç†åŸå§‹å­—èŠ‚çš„æ ‡å‡†åº“æ¨¡å—ã€‚

å½“æ‚¨åœ¨ input 8 ä¸­å°†å®ƒä¸ä¸€ä¸ªå…·æœ‰æ›´å¤§æ¡ç›®çš„æ•°ç»„ç»“åˆèµ·æ¥åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„æ—¶ï¼ŒNumPy ä¼šå¾ˆæœ‰å¸®åŠ©åœ°è®¡ç®—å‡ºæ–°æ•°ç»„çš„æ¡ç›®éœ€è¦æœ‰å¤šå¤§ï¼Œå¹¶å°†å®ƒä»¬å…¨éƒ¨å¢å¤§åˆ°å¤§å°`<U10`ã€‚

ä½†æ˜¯ï¼Œå½“æ‚¨è¯•å›¾ç”¨å¤§äº`dtype`å®¹é‡çš„å€¼ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªæ§½æ—¶ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹æƒ…å†µ:

>>>

```py
In [9]: names[2] = "jamima"

In [10]: names
Out[10]: array(['bob', 'amy', 'jam'], dtype='<U3')
```

å®ƒä¸ä¼šåƒé¢„æœŸçš„é‚£æ ·å·¥ä½œï¼Œåè€Œä¼šæˆªæ–­ä½ çš„å€¼ã€‚å¦‚æœä½ å·²ç»æœ‰äº†ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆ NumPy çš„è‡ªåŠ¨å¤§å°æ£€æµ‹å°±ä¸ä¼šä¸ºä½ å·¥ä½œã€‚ä½ å¾—åˆ°ä¸‰ä¸ªå­—ç¬¦ï¼Œå°±æ˜¯è¿™æ ·ã€‚å…¶ä½™çš„åœ¨è™šç©ºä¸­æ¶ˆå¤±äº†ã€‚

è¿™å°±æ˜¯è¯´ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå½“ä½ å¤„ç†å­—ç¬¦ä¸²æ—¶ï¼ŒNumPy ä¼šæ”¯æŒä½ ï¼Œä½†æ˜¯ä½ åº”è¯¥å§‹ç»ˆæ³¨æ„å…ƒç´ çš„å¤§å°ï¼Œå¹¶ç¡®ä¿åœ¨é€‚å½“çš„ä½ç½®ä¿®æ”¹æˆ–æ›´æ”¹æ•°ç»„æ—¶æœ‰è¶³å¤Ÿçš„ç©ºé—´ã€‚

[*Remove ads*](/account/join/)

### ç»“æ„åŒ–æ•°ç»„

æœ€åˆï¼Œæ‚¨äº†è§£åˆ°æ•°ç»„é¡¹å¿…é¡»æ˜¯ç›¸åŒçš„æ•°æ®ç±»å‹ï¼Œä½†è¿™å¹¶ä¸å®Œå…¨æ­£ç¡®ã€‚NumPy æœ‰ä¸€ä¸ª[ç‰¹æ®Šç±»å‹çš„æ•°ç»„](https://numpy.org/doc/stable/user/basics.rec.html)ï¼Œç§°ä¸º**è®°å½•æ•°ç»„**æˆ–**ç»“æ„åŒ–æ•°ç»„**ï¼Œä½¿ç”¨å®ƒå¯ä»¥æŒ‡å®šç±»å‹ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸ºæ¯åˆ—æŒ‡å®šä¸€ä¸ªåç§°ã€‚è¿™ä½¿å¾—æ’åºå’Œè¿‡æ»¤å˜å¾—æ›´åŠ å¼ºå¤§ï¼Œæ„Ÿè§‰ç±»ä¼¼äºåœ¨ [Excel](https://realpython.com/openpyxl-excel-spreadsheets-python/) ã€[CSV](https://realpython.com/python-csv/)æˆ–[å…³ç³»æ•°æ®åº“](https://realpython.com/python-pyqt-database/)ä¸­å¤„ç†æ•°æ®ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­å‘ä»–ä»¬å±•ç¤ºä¸€ä¸‹:

>>>

```py
In [1]: import numpy as np

In [2]: data = np.array([
 ...:    ("joe", 32, 6),
 ...:    ("mary", 15, 20),
 ...:    ("felipe", 80, 100),
 ...:    ("beyonce", 38, 9001),
 ...: ], dtype=[("name", str, 10), ("age", int), ("power", int)])

In [3]: data[0]
Out[3]: ('joe', 32, 6)

In [4]: data["name"]
Out[4]: array(['joe', 'mary', 'felipe', 'beyonce'], dtype='<U10')

In [5]: data[data["power"] > 9000]["name"]
Out[5]: array(['beyonce'], dtype='<U10')
```

åœ¨è¾“å…¥ 2 ä¸­ï¼Œæ‚¨åˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„ï¼Œé™¤äº†æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ªå…·æœ‰åç§°ã€å¹´é¾„å’Œèƒ½é‡çº§åˆ«çš„å…ƒç»„ã€‚å¯¹äº`dtype`ï¼Œæ‚¨å®é™…ä¸Šæä¾›äº†ä¸€ä¸ªåŒ…å«æ¯ä¸ªå­—æ®µä¿¡æ¯çš„å…ƒç»„åˆ—è¡¨:`name`æ˜¯ä¸€ä¸ª 10 ä¸ªå­—ç¬¦çš„ Unicode å­—æ®µï¼Œ`age`å’Œ`power`éƒ½æ˜¯æ ‡å‡†çš„ 4 å­—èŠ‚æˆ– 8 å­—èŠ‚æ•´æ•°ã€‚

åœ¨è¾“å…¥ 3 ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°è¢«ç§°ä¸º**è®°å½•**çš„è¡Œä»ç„¶å¯ä»¥ä½¿ç”¨ç´¢å¼•è¿›è¡Œè®¿é—®ã€‚

åœ¨è¾“å…¥ 4 ä¸­ï¼Œæ‚¨ä¼šçœ‹åˆ°ä¸€ä¸ªç”¨äºè®¿é—®æ•´ä¸ªåˆ—çš„æ–°è¯­æ³•ï¼Œå³**å­—æ®µ**ã€‚

æœ€åï¼Œåœ¨è¾“å…¥ 5 ä¸­ï¼Œæ‚¨ä¼šçœ‹åˆ°åŸºäºå­—æ®µå’ŒåŸºäºå­—æ®µçš„é€‰æ‹©çš„åŸºäºæ©ç çš„è¿‡æ»¤çš„è¶…çº§å¼ºå¤§ç»„åˆã€‚è¯·æ³¨æ„ï¼Œé˜…è¯»ä¸‹é¢çš„ [SQL](https://en.wikipedia.org/wiki/SQL) æŸ¥è¯¢å¹¶æ²¡æœ‰å¤ªå¤§çš„ä¸åŒ:

```py
SELECT  name  FROM  data WHERE  power  >  9000;
```

åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œç»“æœéƒ½æ˜¯åŠŸç‡æ°´å¹³è¶…è¿‡`9000`çš„åå­—åˆ—è¡¨ã€‚

æ‚¨ç”šè‡³å¯ä»¥åˆ©ç”¨`np.sort()`æ·»åŠ `ORDER BY`åŠŸèƒ½:

>>>

```py
In [6]: np.sort(data[data["age"] > 20], order="power")["name"]
Out[6]: array(['joe', 'felipe', 'beyonce'], dtype='<U10')
```

è¿™å°†åœ¨æ£€ç´¢æ•°æ®ä¹‹å‰æŒ‰`power`å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œä»è€Œå®Œå–„äº†æ‚¨å¯¹ NumPy å·¥å…·çš„é€‰æ‹©ï¼Œè¿™äº›å·¥å…·ç”¨äºé€‰æ‹©ã€è¿‡æ»¤å’Œæ’åºé¡¹ç›®ï¼Œå°±åƒåœ¨ SQL ä¸­ä¸€æ ·ï¼

### å…³äºæ•°æ®ç±»å‹çš„æ›´å¤šä¿¡æ¯

æ•™ç¨‹çš„è¿™ä¸€éƒ¨åˆ†æ—¨åœ¨è®©æ‚¨è·å¾—è¶³å¤Ÿçš„çŸ¥è¯†æ¥ä½¿ç”¨ NumPy çš„æ•°æ®ç±»å‹ï¼Œäº†è§£ä¸€äº›äº‹æƒ…æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå¹¶è®¤è¯†ä¸€äº›å¸¸è§çš„é™·é˜±ã€‚è¿™å½“ç„¶ä¸æ˜¯ä¸€ä¸ªè¯¦å°½çš„æŒ‡å—ã€‚å…³äº`ndarrays` çš„ [NumPy æ–‡æ¡£æœ‰æ›´å¤šçš„èµ„æºã€‚](https://numpy.org/doc/stable/reference/arrays.ndarray.html#internal-memory-layout-of-an-ndarray)

è¿˜æœ‰æ›´å¤šå…³äº [`dtype`å¯¹è±¡](https://numpy.org/doc/stable/reference/arrays.dtypes.html)çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ„é€ ã€å®šåˆ¶å’Œä¼˜åŒ–å®ƒä»¬çš„ä¸åŒæ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•ä½¿å®ƒä»¬æ›´åŠ å¥å£®ä»¥æ»¡è¶³æ‚¨æ‰€æœ‰çš„æ•°æ®å¤„ç†éœ€æ±‚ã€‚å¦‚æœæ‚¨é‡åˆ°äº†éº»çƒ¦ï¼Œå¹¶ä¸”æ‚¨çš„æ•°æ®æ²¡æœ‰å®Œå…¨æŒ‰ç…§æ‚¨çš„é¢„æœŸåŠ è½½åˆ°æ•°ç»„ä¸­ï¼Œé‚£ä¹ˆè¿™æ˜¯ä¸€ä¸ªå¥½çš„å¼€å§‹ã€‚

æœ€åï¼ŒNumPy `recarray`æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¯¹è±¡ï¼Œæ‚¨å®é™…ä¸Šåªæ˜¯è§¦åŠäº†ç»“æ„åŒ–æ•°æ®é›†åŠŸèƒ½çš„çš®æ¯›ã€‚é˜…è¯» NumPy æä¾›çš„ [`recarray`æ–‡æ¡£](https://numpy.org/doc/stable/reference/generated/numpy.recarray.html)ä»¥åŠå…¶ä»–ä¸“ç”¨æ•°ç»„[å­ç±»](https://numpy.org/doc/stable/reference/arrays.classes.html)çš„æ–‡æ¡£ç»å¯¹å€¼å¾—ã€‚

## å±•æœ›æœªæ¥:æ›´å¼ºå¤§çš„åº“

åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæ‚¨å°†ç»§ç»­å­¦ä¹ æ„å»ºåœ¨æ‚¨ä¸Šé¢çœ‹åˆ°çš„åŸºç¡€æ„å»ºå—ä¹‹ä¸Šçš„å¼ºå¤§å·¥å…·ã€‚è¿™é‡Œæœ‰å‡ ä¸ªåº“ï¼Œåœ¨æ‚¨è¿ˆå‘å®Œå…¨æŒæ¡ Python æ•°æ®ç§‘å­¦ä¹‹è·¯çš„ä¸‹ä¸€æ­¥ä¸­ï¼Œæ‚¨å¯èƒ½æƒ³çœ‹çœ‹å®ƒä»¬ã€‚

### ç†ŠçŒ«

[pandas](https://pandas.pydata.org/) æ˜¯ä¸€ä¸ªåº“ï¼Œå®ƒé‡‡ç”¨äº†ç»“æ„åŒ–æ•°ç»„çš„æ¦‚å¿µï¼Œå¹¶ç”¨å¤§é‡æ–¹ä¾¿çš„æ–¹æ³•ã€å¼€å‘äººå‘˜ä½“éªŒçš„æ”¹è¿›å’Œæ›´å¥½çš„è‡ªåŠ¨åŒ–æ¥æ„å»ºå®ƒã€‚å¦‚æœä½ éœ€è¦ä»ä»»ä½•åœ°æ–¹å¯¼å…¥æ•°æ®ï¼Œ[æ¸…ç†å®ƒ](https://realpython.com/python-data-cleaning-numpy-pandas/)ï¼Œé‡å¡‘å®ƒï¼Œæ¶¦è‰²å®ƒï¼Œç„¶åå¯¼å‡ºæˆä»»ä½•æ ¼å¼ï¼Œé‚£ä¹ˆç†ŠçŒ«å°±æ˜¯ä½ çš„å›¾ä¹¦é¦†ã€‚å¾ˆå¯èƒ½åœ¨æŸä¸ªæ—¶å€™ï¼Œä½ ä¼šåœ¨ä½ `import numpy as np`çš„åŒæ—¶`import pandas as pd`ã€‚

ç†ŠçŒ«æ–‡æ¡£æœ‰ä¸€ä¸ªå¿«é€Ÿæ•™ç¨‹ï¼Œé‡Œé¢å……æ»¡äº†å…·ä½“çš„ä¾‹å­ï¼Œå«åš[ç†ŠçŒ« 10 åˆ†é’Ÿ](https://pandas.pydata.org/pandas-docs/stable/user_guide/10min.html)ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ„æºï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥è¿›è¡Œå¿«é€Ÿçš„å®è·µã€‚

[*Remove ads*](/account/join/)

### scikit-learn

å¦‚æœä½ çš„ç›®æ ‡æ›´å¤šåœ°åœ¨äºæœºå™¨å­¦ä¹ çš„æ–¹å‘ï¼Œé‚£ä¹ˆ [scikit-learn](https://scikit-learn.org/stable/) å°±æ˜¯ä¸‹ä¸€æ­¥ã€‚ç»™å®šè¶³å¤Ÿçš„æ•°æ®ï¼Œæ‚¨å¯ä»¥åœ¨çŸ­çŸ­å‡ è¡Œä»£ç ä¸­å®Œæˆ[åˆ†ç±»](https://realpython.com/logistic-regression-python/#classification)ã€[å›å½’](https://realpython.com/linear-regression-in-python/)ã€[èšç±»](https://realpython.com/k-means-clustering-python/)ç­‰ç­‰ã€‚

å¦‚æœæ‚¨å·²ç»ç†Ÿæ‚‰äº†æ•°å­¦ï¼Œé‚£ä¹ˆ scikit-learn æ–‡æ¡£ä¸­æœ‰ä¸€ä¸ªå¾ˆæ£’çš„æ•™ç¨‹åˆ—è¡¨[æ¥å¸®åŠ©æ‚¨å¼€å§‹ä½¿ç”¨ Pythonã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆ](https://scikit-learn.org/stable/tutorial/index.html#tutorial-menu)[æ•°æ®ç§‘å­¦æ•°å­¦å­¦ä¹ è·¯å¾„](https://realpython.com/learning-paths/math-data-science/)æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå®Œæ•´çš„æœºå™¨å­¦ä¹ çš„[å­¦ä¹ è·¯å¾„ã€‚](https://realpython.com/learning-paths/machine-learning-python/)

å¯¹ä½ æ¥è¯´ï¼Œè‡³å°‘ç†è§£ç®—æ³•èƒŒåçš„æ•°å­¦åŸºç¡€æ˜¯å¾ˆé‡è¦çš„ï¼Œè€Œä¸ä»…ä»…æ˜¯è¾“å…¥å®ƒä»¬å¹¶è¿è¡Œå®ƒä»¬ã€‚æœºå™¨å­¦ä¹ æ¨¡å‹ä¸­çš„åè§æ˜¯ä¸€ä¸ªå·¨å¤§çš„é“å¾·ã€ç¤¾ä¼šå’Œæ”¿æ²»é—®é¢˜ã€‚

åœ¨æ²¡æœ‰è€ƒè™‘å¦‚ä½•è§£å†³åè§çš„æƒ…å†µä¸‹å‘æ¨¡å‹æ‰”æ•°æ®æ˜¯ä¸€ç§é™·å…¥å›°å¢ƒå¹¶å¯¹äººä»¬çš„ç”Ÿæ´»äº§ç”Ÿè´Ÿé¢å½±å“çš„å¥½æ–¹æ³•ã€‚åšä¸€äº›ç ”ç©¶ï¼Œå­¦ä¹ å¦‚ä½•é¢„æµ‹å“ªé‡Œå¯èƒ½å‡ºç°[åå·®](https://www.brookings.edu/research/algorithmic-bias-detection-and-mitigation-best-practices-and-policies-to-reduce-consumer-harms/)æ˜¯æœç€æ­£ç¡®æ–¹å‘çš„è‰¯å¥½å¼€ç«¯ã€‚

### Matplotlib

æ— è®ºä½ åœ¨ç”¨ä½ çš„æ•°æ®åšä»€ä¹ˆï¼Œåœ¨æŸäº›æ—¶å€™ä½ éƒ½éœ€è¦å’Œå…¶ä»–äººäº¤æµä½ çš„ç»“æœï¼ŒMatplotlib æ˜¯å®ç°è¿™ä¸€ç‚¹çš„ä¸»è¦åº“ä¹‹ä¸€ã€‚æœ‰å…³ä»‹ç»ï¼Œè¯·æŸ¥çœ‹ä½¿ç”¨ Matplotlib ç»˜åˆ¶çš„[ã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæ‚¨å°†è·å¾—ä¸€äº›ä½¿ç”¨ Matplotlib çš„å®è·µï¼Œä½†æ˜¯æ‚¨å°†ä½¿ç”¨å®ƒè¿›è¡Œå›¾åƒå¤„ç†ï¼Œè€Œä¸æ˜¯ç»˜åˆ¶å›¾å½¢ã€‚](https://realpython.com/python-matplotlib-guide/)

## å®è·µç¤ºä¾‹ 2:ç”¨ Matplotlib å¤„ç†å›¾åƒ

å½“ä½ ä½¿ç”¨ Python åº“æ—¶ï¼Œå®ƒæ€»æ˜¯å¾ˆç®€æ´ï¼Œå®ƒä¼šç»™ä½ ä¸€ä¸ªåŸºæœ¬çš„ NumPy æ•°ç»„ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½ å°†ä½“éªŒåˆ°å®ƒæ‰€æœ‰çš„è£è€€ã€‚

æ‚¨å°†ä½¿ç”¨ Matplotlib åŠ è½½å›¾åƒï¼Œè®¤è¯†åˆ° RGB å›¾åƒå®é™…ä¸Šåªæ˜¯ç”±`int8`æ•´æ•°ç»„æˆçš„`width Ã— height Ã— 3`æ•°ç»„ï¼Œæ“ä½œè¿™äº›å­—èŠ‚ï¼Œå¹¶åœ¨å®Œæˆåå†æ¬¡ä½¿ç”¨ Matplotlib ä¿å­˜ä¿®æ”¹åçš„å›¾åƒã€‚

ä¸‹è½½æ­¤å›¾åƒä»¥ä½¿ç”¨:

[![A kitty attacking some flowers.](img/47ef12bccc54abbc7a80c5b6c2ecf7b4.png)](https://files.realpython.com/media/kitty.90952ca484f1.jpg)

<figcaption class="figure-caption text-center">Image: [Ilona IlyÃ©s](https://pixabay.com/users/ilyessuti-3558510/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=2948404)</figcaption>

è¿™æ˜¯ä¸€å¼  1920 x 1299 åƒç´ çš„å¯çˆ±å°çŒ«çš„å›¾ç‰‡ã€‚ä½ è¦æ”¹å˜è¿™äº›åƒç´ çš„é¢œè‰²ã€‚

åˆ›å»ºä¸€ä¸ªåä¸º`image_mod.py`çš„ Python æ–‡ä»¶ï¼Œç„¶åè®¾ç½®æ‚¨çš„[å¯¼å…¥](https://realpython.com/absolute-vs-relative-python-imports/)å¹¶åŠ è½½å›¾åƒ:

```py
 1import numpy as np
 2import matplotlib.image as mpimg
 3
 4img = mpimg.imread("kitty.jpg")
 5print(type(img))
 6print(img.shape)
```

è¿™æ˜¯ä¸€ä¸ªå¥½çš„å¼€å§‹ã€‚Matplotlib æœ‰è‡ªå·±çš„å¤„ç†å›¾åƒçš„æ¨¡å—ï¼Œæ‚¨å°†ä¾é å®ƒï¼Œå› ä¸ºå®ƒä½¿è¯»å–å’Œå†™å…¥å›¾åƒæ ¼å¼å˜å¾—ç®€å•ã€‚

å¦‚æœè¿è¡Œè¿™æ®µä»£ç ï¼Œé‚£ä¹ˆä½ çš„æœ‹å‹ NumPy æ•°ç»„å°†å‡ºç°åœ¨è¾“å‡ºä¸­:

```py
$ python3 image_mod.py
<class 'numpy.ndarray'>
(1299, 1920, 3)
```

è¿™æ˜¯ä¸€ä¸ªé«˜ 1299 åƒç´ ã€å®½ 1920 åƒç´ çš„å›¾åƒï¼Œæœ‰ä¸‰ä¸ªé€šé“:çº¢è‰²ã€ç»¿è‰²å’Œè“è‰²(RGB)è‰²é˜¶å„ä¸€ä¸ªã€‚

æƒ³çœ‹çœ‹å½“ä½ é€€å‡º R å’Œ G é€šé“æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿå°†æ­¤æ·»åŠ åˆ°æ‚¨çš„è„šæœ¬ä¸­:

```py
 7output = img.copy()  # The original image is read-only!
 8output[:, :, :2] = 0
 9mpimg.imsave("blue.jpg", output)
```

å†æ¬¡è¿è¡Œå¹¶æ£€æŸ¥æ–‡ä»¶å¤¹ã€‚åº”è¯¥æœ‰æ–°çš„å½¢è±¡:

[![A blue version of the kitty.](img/29827acf27663aa2df6708bb90917f26.png)](https://files.realpython.com/media/blue.b16289750da2.jpg)

ä½ æ˜¯ä¸æ˜¯è¢«å“åˆ°äº†ï¼Ÿä½ æ„Ÿè§‰åˆ°åŠ›é‡äº†å—ï¼Ÿå›¾åƒåªæ˜¯èŠ±å“¨çš„æ•°ç»„ï¼åƒç´ åªæ˜¯æ•°å­—ï¼

ä½†æ˜¯ç°åœ¨ï¼Œæ˜¯æ—¶å€™åšä¸€äº›æ›´æœ‰ç”¨çš„äº‹æƒ…äº†ã€‚ä½ è¦æŠŠè¿™ä¸ªå›¾åƒè½¬æ¢æˆç°åº¦ã€‚ä½†æ˜¯ï¼Œè½¬æ¢ä¸ºç°åº¦æ›´å¤æ‚ã€‚å°† Rã€G å’Œ B é€šé“å¹³å‡åŒ–ï¼Œä½¿å®ƒä»¬éƒ½ç›¸åŒï¼Œä¼šç»™ä½ ä¸€ä¸ªç°åº¦å›¾åƒã€‚ä½†æ˜¯äººç±»çš„å¤§è„‘å¾ˆå¥‡æ€ªï¼Œè¿™ç§è½¬æ¢ä¼¼ä¹ä¸èƒ½å¾ˆå¥½åœ°å¤„ç†é¢œè‰²çš„äº®åº¦ã€‚

å…¶å®è¿˜æ˜¯è‡ªå·±å»çœ‹æ¯”è¾ƒå¥½ã€‚ä½ å¯ä»¥åˆ©ç”¨è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå¦‚æœä½ åªè¾“å‡ºä¸€ä¸ªé€šé“è€Œä¸æ˜¯ä¸‰ä¸ªé€šé“çš„æ•°ç»„ï¼Œé‚£ä¹ˆä½ å¯ä»¥æŒ‡å®šä¸€ä¸ª**é¢œè‰²å›¾**ï¼Œåœ¨ Matplotlib ä¸–ç•Œä¸­ç§°ä¸º [`cmap`](https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html) ã€‚å¦‚æœæ‚¨æŒ‡å®šäº†ä¸€ä¸ª`cmap`ï¼Œé‚£ä¹ˆ Matplotlib å°†ä¸ºæ‚¨å¤„ç†çº¿æ€§æ¢¯åº¦è®¡ç®—ã€‚

åˆ é™¤è„šæœ¬ä¸­çš„æœ€åä¸‰è¡Œï¼Œæ›¿æ¢ä¸º:

```py
 7averages = img.mean(axis=2)  # Take the average of each R, G, and B
 8mpimg.imsave("bad-gray.jpg", averages, cmap="gray")
```

è¿™äº›æ–°çº¿æ¡åˆ›å»ºäº†ä¸€ä¸ªåä¸º`averages`çš„æ–°æ•°ç»„ï¼Œå®ƒæ˜¯é€šè¿‡å–æ‰€æœ‰ä¸‰ä¸ªé€šé“çš„å¹³å‡å€¼æ²¿è½´ 2 å±•å¹³çš„`img`æ•°ç»„çš„å‰¯æœ¬ã€‚æ‚¨å·²ç»å¯¹æ‰€æœ‰ä¸‰ä¸ªé€šé“è¿›è¡Œäº†å¹³å‡ï¼Œå¹¶è¾“å‡ºäº† Rã€G å’Œ B å€¼ç­‰äºè¯¥å¹³å‡å€¼çš„ä¸œè¥¿ã€‚å½“ Rã€G å’Œ B éƒ½ç›¸åŒæ—¶ï¼Œäº§ç”Ÿçš„é¢œè‰²åœ¨ç°åº¦ä¸Šã€‚

æœ€ç»ˆäº§ç”Ÿçš„ç»“æœå¹¶ä¸å¯æ€•:

[![A not-great grayscale version of the kitty.](img/3572e2e60ea2b42d51c44a95c779b8ee.png)](https://files.realpython.com/media/bad-gray.b80663df019b.jpg)

ä½†æ˜¯ä½ å¯ä»¥ä½¿ç”¨**å…‰åº¦æ–¹æ³•**åšå¾—æ›´å¥½ã€‚è¿™ç§æŠ€æœ¯å¯¹ä¸‰ä¸ªé€šé“è¿›è¡ŒåŠ æƒå¹³å‡ï¼Œè®¤ä¸ºç»¿è‰²å†³å®šäº†å›¾åƒçš„äº®åº¦ï¼Œè“è‰²å¯ä»¥ä½¿å›¾åƒçœ‹èµ·æ¥æ›´æš—ã€‚æ‚¨å°†ä½¿ç”¨`@`æ“ä½œç¬¦ï¼Œå®ƒæ˜¯ NumPy çš„æ“ä½œç¬¦ï¼Œç”¨äºæ‰§è¡Œä¼ ç»Ÿçš„äºŒç»´æ•°ç»„[ç‚¹ç§¯](https://www.mathsisfun.com/algebra/vectors-dot-product.html)ã€‚

å†æ¬¡æ›¿æ¢è„šæœ¬ä¸­çš„æœ€åä¸¤è¡Œ:

```py
 7weights = np.array([0.3, 0.59, 0.11])
 8grayscale = img @ weights
 9mpimg.imsave("good-gray.jpg", grayscale, cmap="gray")
```

è¿™ä¸€æ¬¡ï¼Œä¸æ˜¯åšä¸€ä¸ªå¹³é¢å¹³å‡ï¼Œè€Œæ˜¯å®Œæˆä¸€ä¸ª**ç‚¹ç§¯**ï¼Œè¿™æ˜¯ä¸‰ä¸ªå€¼çš„åŠ æƒç»„åˆã€‚ç”±äºæƒé‡ç›¸åŠ ä¸º 1ï¼Œè¿™å®Œå…¨ç­‰åŒäºå¯¹ä¸‰ä¸ªé¢œè‰²é€šé“è¿›è¡ŒåŠ æƒå¹³å‡ã€‚

ç»“æœå¦‚ä¸‹:

[![A better grayscale version of the kitty.](img/55294074105cc34fcf6d543b0b1f1f4a.png)](https://files.realpython.com/media/good-gray.03ed6660e679.jpg)

ç¬¬ä¸€ä¸ªå›¾åƒæœ‰ç‚¹æš—ï¼Œè¾¹ç¼˜å’Œé˜´å½±æ›´å¤§èƒ†ã€‚ç¬¬äºŒå¼ å›¾ç‰‡æ›´äº®æ›´äº®ï¼Œæš—çº¿æ²¡æœ‰é‚£ä¹ˆç²—ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Matplotlib å’Œ NumPy æ•°ç»„æ¥æ“ä½œå›¾åƒäº†ï¼

[*Remove ads*](/account/join/)

## ç»“è®º

æ— è®ºæ‚¨çš„æ•°æ®å­˜åœ¨äºå¤šå°‘ä¸ªç»´åº¦ä¸­ï¼ŒNumPy éƒ½ä¸ºæ‚¨æä¾›äº†å¤„ç†æ•°æ®çš„å·¥å…·ã€‚ä½ å¯ä»¥å­˜å‚¨å®ƒï¼Œé‡å¡‘å®ƒï¼Œç»„åˆå®ƒï¼Œè¿‡æ»¤å®ƒï¼Œæ’åºå®ƒï¼Œä½ çš„ä»£ç è¯»èµ·æ¥å°±åƒä½ ä¸€æ¬¡åªå¤„ç†ä¸€ä¸ªæ•°å­—ï¼Œè€Œä¸æ˜¯æˆç™¾ä¸Šåƒä¸ªã€‚

**åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæ‚¨å­¦ä¹ äº†:**

*   NumPy ä½¿æ•°æ®ç§‘å­¦çš„**æ ¸å¿ƒæ¦‚å¿µ**æˆä¸ºå¯èƒ½
*   å¦‚ä½•ä½¿ç”¨å„ç§æ–¹æ³•åˆ›å»º NumPy æ•°ç»„
*   å¦‚ä½•æ“ä½œ NumPy æ•°ç»„æ¥æ‰§è¡Œ**æœ‰ç”¨çš„è®¡ç®—**
*   å¦‚ä½•å°†è¿™äº›æ–°æŠ€èƒ½åº”ç”¨äº**ç°å®ä¸–ç•Œçš„é—®é¢˜**

ä¸è¦å¿˜è®°æŸ¥çœ‹è´¯ç©¿æœ¬æ•™ç¨‹çš„ NumPy ä»£ç æ ·æœ¬åº“ã€‚æ‚¨å¯ä»¥å°†å®ƒä½œä¸ºå‚è€ƒï¼Œå¹¶é€šè¿‡ç¤ºä¾‹è¿›è¡Œå®éªŒï¼Œçœ‹çœ‹æ›´æ”¹ä»£ç ä¼šå¦‚ä½•æ”¹å˜ç»“æœ:

**è·å–ç¤ºä¾‹ä»£ç :** [å•å‡»æ­¤å¤„è·å–ç¤ºä¾‹ä»£ç ï¼Œæ‚¨å°†åœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨](https://realpython.com/bonus/numpy-python-code/)æ¥äº†è§£ NumPyã€‚

ç°åœ¨ï¼Œæ‚¨å·²ç»ä¸ºæ•°æ®ç§‘å­¦ä¹‹æ—…çš„ä¸‹ä¸€æ­¥åšå¥½äº†å‡†å¤‡ã€‚æ— è®ºä½ æ˜¯æ¸…ç†æ•°æ®ï¼Œè®­ç»ƒç¥ç»ç½‘ç»œï¼Œä½¿ç”¨å¼ºå¤§çš„æƒ…èŠ‚è¿›è¡Œäº¤æµï¼Œè¿˜æ˜¯ä»ç‰©è”ç½‘èšåˆæ•°æ®ï¼Œè¿™äº›æ´»åŠ¨éƒ½æ˜¯ä»åŒä¸€ä¸ªåœ°æ–¹å¼€å§‹çš„:ä¸èµ·çœ¼çš„ NumPy æ•°ç»„ã€‚*********