# 单元测试

# 单元测试

### 练习 1：测试 Python 函数

模块**word_counter.py**中的函数**main()**计算文本主体中的单词数。

例如，以下句子包含**三**个单词：

```
Call me Ishmael 
```

你的任务是证明**TextCorpus**类正确计算了句子中的单词数为**三**。

运行**test_unit_test.py**中的示例测试

```
pytest test_unit_test.py 
```

### 练习 2：测试证明代码是否有问题

模块**test_failing_code.py**中的测试失败了，因为函数**word_counter.average_word_length()**中有一个错误。在句子中

```
Call me Ishmael 
```

这些单词分别为**四、二**和**七**个字符长。这给出了一个平均值：

```
>>> (4 + 2 + 7) / 3.0
4.333333333333333 
```

修复`test_broken_code.py`中的代码，使测试通过。

### 练习 3：代码证明测试是否有问题

模块**test_broken_test.py**中的测试失败了，因为测试文件中存在一个错误。

你的任务是修复测试，使测试通过。使用**test_broken_test.py**中的示例。

### 练习 4：测试边界情况

高质量的测试涵盖了许多不同的情况。程序**word_counter.py**最常见的情况包括：

| 测试用例 | 描述 | 示例输入 | 预期输出 |
| --- | --- | --- | --- |
| 空 | 输入有效，但为空 | "" | 0 |
| 最小 | 最小合理输入 | "鲸鱼" | 1 |
| 典型 | 代表性输入 | "鲸鱼吃船长" | 3 |
| 无效 | 输入应该失败 | 777 | *引发异常* |
| 最大 | 最大的合理输入 | *梅尔维尔的整本书* | *超过 200000* |
| 理智 | 程序重复利用自己的输出 | *从另一个文本正文 B 创建的 TextBody A* | *A 等于 B* |
| 恶毒 | 困难的例子 | "那个 #~&%* 程序仍然不工作！" | 6 |

你的任务是使**test_border_cases.py**中的所有测试都通过。
