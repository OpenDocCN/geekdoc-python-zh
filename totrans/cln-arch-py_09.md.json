["```py\nimport pymongo\nimport pytest\n\n@pytest.fixture(scope=\"session\")\ndef mg_database_empty(app_configuration):\n    client = pymongo.MongoClient(\n        host=app_configuration[\"MONGODB_HOSTNAME\"],\n        port=int(app_configuration[\"MONGODB_PORT\"]),\n        username=app_configuration[\"MONGODB_USER\"],\n        password=app_configuration[\"MONGODB_PASSWORD\"],\n        authSource=\"admin\",\n    )\n    db = client[app_configuration[\"APPLICATION_DB\"]]\n\n    yield db\n\n    client.drop_database(app_configuration[\"APPLICATION_DB\"])\n    client.close()\n\n@pytest.fixture(scope=\"function\")\ndef mg_test_data():\n    return [\n        {\n            \"code\": \"f853578c-fc0f-4e65-81b8-566c5dffa35a\",\n            \"size\": 215,\n            \"price\": 39,\n            \"longitude\": -0.09998975,\n            \"latitude\": 51.75436293,\n        },\n        {\n            \"code\": \"fe2c3195-aeff-487a-a08f-e0bdc0ec6e9a\",\n            \"size\": 405,\n            \"price\": 66,\n            \"longitude\": 0.18228006,\n            \"latitude\": 51.74640997,\n        },\n        {\n            \"code\": \"913694c6-435a-4366-ba0d-da5334a611b2\",\n            \"size\": 56,\n            \"price\": 60,\n            \"longitude\": 0.27891577,\n            \"latitude\": 51.45994069,\n        },\n        {\n            \"code\": \"eed76e77-55c1-41ce-985d-ca49bf6c0585\",\n            \"size\": 93,\n            \"price\": 48,\n            \"longitude\": 0.33894476,\n            \"latitude\": 51.39916678,\n        },\n    ]\n\n@pytest.fixture(scope=\"function\")\ndef mg_database(mg_database_empty, mg_test_data):\n    collection = mg_database_empty.rooms\n\n    collection.insert_many(mg_test_data)\n\n    yield mg_database_empty\n\n    collection.delete_many({}) \n```", "```py\nFlask\nSQLAlchemy\npsycopg2\npymongo \n```", "```py\n*version: '3.8'\n\nservices:\n  postgres:\n    image: postgres\n    environment:\n      POSTGRES_DB: ${POSTGRES_DB}\n      POSTGRES_USER: ${POSTGRES_USER}\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n    ports:\n      - \"${POSTGRES_PORT}:5432\"\n  mongo:\n    image: mongo\n    environment:\n      MONGO_INITDB_ROOT_USERNAME: ${MONGODB_USER}\n      MONGO_INITDB_ROOT_PASSWORD: ${MONGODB_PASSWORD}\n    ports:\n      - \"${MONGODB_PORT}:27017\"* \n```", "```py\n**[\n  {\n    \"name\": \"FLASK_ENV\",\n    \"value\": \"production\"\n  },\n  {\n    \"name\": \"FLASK_CONFIG\",\n    \"value\": \"testing\"\n  },\n  {\n    \"name\": \"POSTGRES_DB\",\n    \"value\": \"postgres\"\n  },\n  {\n    \"name\": \"POSTGRES_USER\",\n    \"value\": \"postgres\"\n  },\n  {\n    \"name\": \"POSTGRES_HOSTNAME\",\n    \"value\": \"localhost\"\n  },\n  {\n    \"name\": \"POSTGRES_PORT\",\n    \"value\": \"5433\"\n  },\n  {\n    \"name\": \"POSTGRES_PASSWORD\",\n    \"value\": \"postgres\"\n  },\n  {\n    \"name\": \"MONGODB_USER\",\n    \"value\": \"root\"\n  },\n  {\n    \"name\": \"MONGODB_HOSTNAME\",\n    \"value\": \"localhost\"\n  },\n  {\n    \"name\": \"MONGODB_PORT\",\n    \"value\": \"27018\"\n  },\n  {\n    \"name\": \"MONGODB_PASSWORD\",\n    \"value\": \"mongodb\"\n  },\n  {\n    \"name\": \"APPLICATION_DB\",\n    \"value\": \"test\"\n  }\n]** \n```", "```py\n***import pytest\nfrom rentomatic.repository import mongorepo\n\npytestmark = pytest.mark.integration\n\ndef test_repository_list_without_parameters(\n    app_configuration, mg_database, mg_test_data\n):\n    repo = mongorepo.MongoRepo(app_configuration)\n\n    repo_rooms = repo.list()\n\n    assert set([r.code for r in repo_rooms]) == set(\n        [r[\"code\"] for r in mg_test_data]\n    )\n\ndef test_repository_list_with_code_equal_filter(\n    app_configuration, mg_database, mg_test_data\n):\n    repo = mongorepo.MongoRepo(app_configuration)\n\n    repo_rooms = repo.list(\n        filters={\"code__eq\": \"fe2c3195-aeff-487a-a08f-e0bdc0ec6e9a\"}\n    )\n\n    assert len(repo_rooms) == 1\n    assert repo_rooms[0].code == \"fe2c3195-aeff-487a-a08f-e0bdc0ec6e9a\"\n\ndef test_repository_list_with_price_equal_filter(\n    app_configuration, mg_database, mg_test_data\n):\n    repo = mongorepo.MongoRepo(app_configuration)\n\n    repo_rooms = repo.list(filters={\"price__eq\": 60})\n\n    assert len(repo_rooms) == 1\n    assert repo_rooms[0].code == \"913694c6-435a-4366-ba0d-da5334a611b2\"\n\ndef test_repository_list_with_price_less_than_filter(\n    app_configuration, mg_database, mg_test_data\n):\n    repo = mongorepo.MongoRepo(app_configuration)\n\n    repo_rooms = repo.list(filters={\"price__lt\": 60})\n\n    assert len(repo_rooms) == 2\n    assert set([r.code for r in repo_rooms]) == {\n        \"f853578c-fc0f-4e65-81b8-566c5dffa35a\",\n        \"eed76e77-55c1-41ce-985d-ca49bf6c0585\",\n    }\n\ndef test_repository_list_with_price_greater_than_filter(\n    app_configuration, mg_database, mg_test_data\n):\n    repo = mongorepo.MongoRepo(app_configuration)\n\n    repo_rooms = repo.list(filters={\"price__gt\": 48})\n\n    assert len(repo_rooms) == 2\n    assert set([r.code for r in repo_rooms]) == {\n        \"913694c6-435a-4366-ba0d-da5334a611b2\",\n        \"fe2c3195-aeff-487a-a08f-e0bdc0ec6e9a\",\n    }\n\ndef test_repository_list_with_price_between_filter(\n    app_configuration, mg_database, mg_test_data\n):\n    repo = mongorepo.MongoRepo(app_configuration)\n\n    repo_rooms = repo.list(filters={\"price__lt\": 66, \"price__gt\": 48})\n\n    assert len(repo_rooms) == 1\n    assert repo_rooms[0].code == \"913694c6-435a-4366-ba0d-da5334a611b2\"\n\ndef test_repository_list_with_price_as_string(\n    app_configuration, mg_database, mg_test_data\n):\n    repo = mongorepo.MongoRepo(app_configuration)\n\n    repo_rooms = repo.list(filters={\"price__lt\": \"60\"})\n\n    assert len(repo_rooms) == 2\n    assert set([r.code for r in repo_rooms]) == {\n        \"f853578c-fc0f-4e65-81b8-566c5dffa35a\",\n        \"eed76e77-55c1-41ce-985d-ca49bf6c0585\",\n    }*** \n```", "```py\n***import pymongo\n\nfrom rentomatic.domain import room\n\nclass MongoRepo:\n    def __init__(self, configuration):\n        client = pymongo.MongoClient(\n            host=configuration[\"MONGODB_HOSTNAME\"],\n            port=int(configuration[\"MONGODB_PORT\"]),\n            username=configuration[\"MONGODB_USER\"],\n            password=configuration[\"MONGODB_PASSWORD\"],\n            authSource=\"admin\",\n        )\n\n        self.db = client[configuration[\"APPLICATION_DB\"]]\n\n    def _create_room_objects(self, results):\n        return [\n            room.Room(\n                code=q[\"code\"],\n                size=q[\"size\"],\n                price=q[\"price\"],\n                latitude=q[\"latitude\"],\n                longitude=q[\"longitude\"],\n            )\n            for q in results\n        ]\n\n    def list(self, filters=None):\n        collection = self.db.rooms\n\n        if filters is None:\n            result = collection.find()\n        else:\n            mongo_filter = {}\n            for key, value in filters.items():\n                key, operator = key.split(\"__\")\n\n                filter_value = mongo_filter.get(key, {})\n\n                if key == \"price\":\n                    value = int(value)\n\n                filter_value[\"${}\".format(operator)] = value\n                mongo_filter[key] = filter_value\n\n            result = collection.find(mongo_filter)\n\n        return self._create_room_objects(result)*** \n```"]